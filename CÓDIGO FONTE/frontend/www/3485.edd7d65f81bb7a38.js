"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(k,m,i)=>{i.r(m),i.d(m,{LoginPageModule:()=>L});var u=i(177),c=i(4341),a=i(1075),d=i(8986),h=i(467),e=i(4438),p=i(4796),f=i(3656);const v=()=>["/recuperar-conta"],P=()=>["/cadastro-selecionar-tipo"];function M(t,s){1&t&&e.nrm(0,"ion-img",17)}function b(t,s){1&t&&e.nrm(0,"ion-img",18)}const x=[{path:"",component:(()=>{var t;class s{constructor(n,o,g){this.authService=n,this.navigationController=o,this.toastController=g,this.login={},this.isDarkTheme=!1,this.isLoading=!1,null!=this.authService.getJwt()&&this.navigationController.navigateRoot("home"),this.checkTheme()}ngOnInit(){null!=this.authService.getJwt()&&this.navigationController.navigateRoot("home"),setTimeout(()=>{var n;let o=null!==(n=localStorage.getItem("theme"))&&void 0!==n?n:"";this.login={},localStorage.clear(),sessionStorage.clear(),localStorage.setItem("theme",o)},500),this.checkTheme()}checkTheme(){"dark"==localStorage.getItem("theme")?(document.body.setAttribute("color-scheme","dark"),this.isDarkTheme=!0):(document.body.setAttribute("color-scheme","light"),this.isDarkTheme=!1)}onSubmit(){var n=this;return(0,h.A)(function*(){if(n.isLoading=!0,null==n.login.email||""==n.login.email.trim())return n.showMessage("Email \xe9 requerido."),void(n.isLoading=!1);if(null==n.login.senha||""==n.login.senha.trim())return n.showMessage("Senha \xe9 requerida."),void(n.isLoading=!1);const o=yield n.authService.login(n.login.email,n.login.senha);console.log(o),null==o?n.showMessage("Erro interno do servidor"):200==o.status?(n.authService.setSession(o.data.token,o.data.id,o.data.tipo),n.showMessage("Bem-vindo ao PEPVagas!"),n.navigationController.navigateRoot("home")):n.showMessage(o.response.data.message),n.isLoading=!1})()}showMessage(n){var o=this;return(0,h.A)(function*(){(yield o.toastController.create({message:n,duration:1500,position:"top"})).present()})()}}return(t=s).\u0275fac=function(n){return new(n||t)(e.rXU(p.u),e.rXU(f.q9),e.rXU(a.K_))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-login"]],decls:30,vars:11,consts:[[3,"fullscreen"],[1,"web-padding","centralize"],[1,"form"],[1,"header"],["src","/assets/icon/logotipo.svg",4,"ngIf"],["src","/assets/icon/logotipo-white.svg",4,"ngIf"],[1,"title"],[1,"subTitle"],["lines","none"],["label","Email","maxLength","50","labelPlacement","floating","type","email","placeholder","Endere\xe7o de Email","id","email",3,"ngModelChange","ngModel"],["label","Senha","labelPlacement","floating","type","password","placeholder","Senha",3,"ngModelChange","ngModel"],["slot","end","color","success"],[1,"forgot"],[3,"routerLink"],["expand","block",1,"button","login",3,"click","disabled"],[1,"register"],["href","http://vagas.pep2.ifsp.edu.br/api/files/PEPVagas.apk"],["src","/assets/icon/logotipo.svg"],["src","/assets/icon/logotipo-white.svg"]],template:function(n,o){1&n&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3),e.DNE(4,M,1,0,"ion-img",4)(5,b,1,0,"ion-img",5),e.j41(6,"p",6),e.EFF(7,"Bem-vindo ao PEP Vagas"),e.k0s(),e.j41(8,"p",7),e.EFF(9,"Entre em uma conta ou registre-se"),e.k0s()(),e.j41(10,"ion-item",8)(11,"ion-input",9),e.mxI("ngModelChange",function(l){return e.DH7(o.login.email,l)||(o.login.email=l),l}),e.k0s()(),e.j41(12,"ion-item",8)(13,"ion-input",10),e.mxI("ngModelChange",function(l){return e.DH7(o.login.senha,l)||(o.login.senha=l),l}),e.nrm(14,"ion-input-password-toggle",11),e.k0s()(),e.j41(15,"div",12)(16,"a",13),e.EFF(17,"Esqueci minha senha"),e.k0s()(),e.j41(18,"ion-button",14),e.bIt("click",function(){return o.onSubmit()}),e.EFF(19),e.k0s(),e.j41(20,"div",15)(21,"p"),e.EFF(22,"N\xe3o tem uma conta? "),e.j41(23,"a",13),e.EFF(24,"Registre-se"),e.k0s()()()(),e.j41(25,"div")(26,"p"),e.EFF(27,"Baixe nosso App! "),e.j41(28,"a",16),e.EFF(29,"PEPVagas"),e.k0s()()()()()),2&n&&(e.Y8G("fullscreen",!0),e.R7$(4),e.Y8G("ngIf",o.isDarkTheme),e.R7$(),e.Y8G("ngIf",!o.isDarkTheme),e.R7$(6),e.R50("ngModel",o.login.email),e.R7$(2),e.R50("ngModel",o.login.senha),e.R7$(3),e.Y8G("routerLink",e.lJ4(9,v)),e.R7$(2),e.FS9("disabled",o.isLoading),e.R7$(),e.SpI(" ",o.isLoading?"Entrando":"Entrar"," "),e.R7$(4),e.Y8G("routerLink",e.lJ4(10,P)))},dependencies:[u.bT,c.BC,c.vS,a.Jm,a.W9,a.KW,a.$w,a.Wv,a.uz,a.Gw,a.oY,d.Wk],styles:["a[_ngcontent-%COMP%]{color:var(--ion-color-pep);text-decoration:none}p[_ngcontent-%COMP%]{color:gray}ion-img[_ngcontent-%COMP%]{margin-bottom:15px}.form[_ngcontent-%COMP%]{padding:35px;background-color:var(--ion-color-white);display:flex;flex-direction:column;justify-content:center;width:90%;max-width:400px;max-height:600px;border:1px solid var(--ion-border-color);border-radius:20px;box-shadow:2px 2px 20px 1px #0003}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}ion-item[_ngcontent-%COMP%]{--background: var(--ion-item-background);border-radius:5px;margin-bottom:10px;border:1px #BBB8B8 solid;padding:2px}ion-button.login[_ngcontent-%COMP%]{--background: var(--ion-color-pep);--padding-top: 18px;--padding-bottom: 18px;--box-shadow:none}ion-button[_ngcontent-%COMP%]{--background: var(--ion-color-pep);height:60px}ion-content[_ngcontent-%COMP%]{height:100vh;display:flex}ion-img[_ngcontent-%COMP%]{width:220px}.divider[_ngcontent-%COMP%]{border-top:1px solid #bbb}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px}.title[_ngcontent-%COMP%]{font-size:24px;color:var(--ion-text-color);font-weight:500;margin:0}.subTitle[_ngcontent-%COMP%]{margin-top:5px}.register[_ngcontent-%COMP%]{text-align:center}.forgot[_ngcontent-%COMP%]{text-align:end;margin-bottom:10px}.full[_ngcontent-%COMP%]{height:100vh}.centralize[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.web-padding[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 15%;display:flex;justify-content:center;align-items:center;flex-direction:column}"]}),s})()}];let C=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[d.iI.forChild(x),d.iI]}),s})(),L=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[u.MD,c.YN,a.bv,C]}),s})()}}]);