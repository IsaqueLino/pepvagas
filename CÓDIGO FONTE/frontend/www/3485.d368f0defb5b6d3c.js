"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(k,m,s)=>{s.r(m),s.d(m,{LoginPageModule:()=>E});var u=s(177),c=s(4341),a=s(1075),d=s(8986),h=s(467),e=s(4438),p=s(4796),f=s(3656);const v=()=>["/recuperar-conta"],P=()=>["/cadastro-selecionar-tipo"];function M(o,l){1&o&&e.nrm(0,"ion-img",18)}function b(o,l){1&o&&e.nrm(0,"ion-img",19)}function C(o,l){1&o&&(e.j41(0,"ion-note",20),e.EFF(1," Por favor, insira um e-mail v\xe1lido (exemplo: usuario@dominio.com) "),e.k0s())}const x=[{path:"",component:(()=>{var o;class l{constructor(n,i,t){this.authService=n,this.navigationController=i,this.toastController=t,this.login={},this.isDarkTheme=!1,this.isLoading=!1,this.emailInvalid=!1,null!=this.authService.getJwt()&&this.navigationController.navigateRoot("home"),this.checkTheme()}ngOnInit(){null!=this.authService.getJwt()&&this.navigationController.navigateRoot("home"),setTimeout(()=>{var n;let i=null!==(n=localStorage.getItem("theme"))&&void 0!==n?n:"";this.login={},localStorage.clear(),sessionStorage.clear(),localStorage.setItem("theme",i)},500),this.checkTheme()}validateEmail(){this.emailInvalid=this.login.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.login.email)}checkTheme(){"dark"==localStorage.getItem("theme")?(document.body.setAttribute("color-scheme","dark"),this.isDarkTheme=!0):(document.body.setAttribute("color-scheme","light"),this.isDarkTheme=!1)}onSubmit(){var n=this;return(0,h.A)(function*(){if(n.isLoading=!0,!n.login.email||""==n.login.email.trim())return n.showMessage("Email \xe9 requerido."),void(n.isLoading=!1);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.login.email))return n.emailInvalid=!0,n.showMessage("Por favor, insira um e-mail v\xe1lido (exemplo: usuario@dominio.com)."),void(n.isLoading=!1);if(null==n.login.senha||""==n.login.senha.trim()||n.login.senha.length<4)return n.showMessage("Senha \xe9 requerida (no m\xednimo 4 caracteres)."),void(n.isLoading=!1);if(null==n.login.email||""==n.login.email.trim())return n.showMessage("Email \xe9 requerido."),void(n.isLoading=!1);if(null==n.login.senha||""==n.login.senha.trim())return n.showMessage("Senha \xe9 requerida."),void(n.isLoading=!1);const t=yield n.authService.login(n.login.email,n.login.senha);null==t?n.showMessage("Erro interno do servidor"):200==t.status?(n.authService.setSession(t.data.token,t.data.id,t.data.tipo),n.showMessage("Bem-vindo ao PEPVagas!"),n.navigationController.navigateRoot("home")):n.showMessage(t.response.data.message),n.isLoading=!1})()}showMessage(n){var i=this;return(0,h.A)(function*(){(yield i.toastController.create({message:n,duration:1500,position:"top"})).present()})()}}return(o=l).\u0275fac=function(n){return new(n||o)(e.rXU(p.u),e.rXU(f.q9),e.rXU(a.K_))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-login"]],decls:31,vars:14,consts:[[3,"fullscreen"],[1,"web-padding","centralize"],[1,"form"],[1,"header"],["src","/assets/icon/logotipo.svg",4,"ngIf"],["src","/assets/icon/logotipo-white.svg",4,"ngIf"],[1,"title"],[1,"subTitle"],["lines","none"],["label","Email","maxLength","50","labelPlacement","floating","type","email","placeholder","Endere\xe7o de Email","id","email",3,"ngModelChange","ionChange","ngModel"],["color","danger","class","ion-padding",4,"ngIf"],["label","Senha","labelPlacement","floating","type","password","placeholder","Senha",3,"ngModelChange","ngModel"],["slot","end","color","success"],[1,"forgot"],[3,"routerLink"],["expand","block",1,"button","login",3,"click","disabled"],[1,"register"],["href","http://vagas.pep2.ifsp.edu.br/api/files/PEPVagas.apk"],["src","/assets/icon/logotipo.svg"],["src","/assets/icon/logotipo-white.svg"],["color","danger",1,"ion-padding"]],template:function(n,i){1&n&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3),e.DNE(4,M,1,0,"ion-img",4)(5,b,1,0,"ion-img",5),e.j41(6,"p",6),e.EFF(7,"Bem-vindo ao PEP Vagas"),e.k0s(),e.j41(8,"p",7),e.EFF(9,"Entre em uma conta ou registre-se"),e.k0s()(),e.j41(10,"ion-item",8)(11,"ion-input",9),e.mxI("ngModelChange",function(r){return e.DH7(i.login.email,r)||(i.login.email=r),r}),e.bIt("ionChange",function(){return i.validateEmail()}),e.k0s()(),e.DNE(12,C,2,0,"ion-note",10),e.j41(13,"ion-item",8)(14,"ion-input",11),e.mxI("ngModelChange",function(r){return e.DH7(i.login.senha,r)||(i.login.senha=r),r}),e.nrm(15,"ion-input-password-toggle",12),e.k0s()(),e.j41(16,"div",13)(17,"a",14),e.EFF(18,"Esqueci minha senha"),e.k0s()(),e.j41(19,"ion-button",15),e.bIt("click",function(){return i.onSubmit()}),e.EFF(20),e.k0s(),e.j41(21,"div",16)(22,"p"),e.EFF(23,"N\xe3o tem uma conta? "),e.j41(24,"a",14),e.EFF(25,"Registre-se"),e.k0s()()()(),e.j41(26,"div")(27,"p"),e.EFF(28,"Baixe nosso App! "),e.j41(29,"a",17),e.EFF(30,"PEPVagas"),e.k0s()()()()()),2&n&&(e.Y8G("fullscreen",!0),e.R7$(4),e.Y8G("ngIf",i.isDarkTheme),e.R7$(),e.Y8G("ngIf",!i.isDarkTheme),e.R7$(6),e.AVh("invalid",i.emailInvalid),e.R50("ngModel",i.login.email),e.R7$(),e.Y8G("ngIf",i.emailInvalid),e.R7$(2),e.R50("ngModel",i.login.senha),e.R7$(3),e.Y8G("routerLink",e.lJ4(12,v)),e.R7$(2),e.FS9("disabled",i.isLoading),e.R7$(),e.SpI(" ",i.isLoading?"Entrando":"Entrar"," "),e.R7$(4),e.Y8G("routerLink",e.lJ4(13,P)))},dependencies:[u.bT,c.BC,c.vS,a.Jm,a.W9,a.KW,a.$w,a.Wv,a.uz,a.JI,a.Gw,a.oY,d.Wk],styles:["a[_ngcontent-%COMP%]{color:var(--ion-color-pep);text-decoration:none}p[_ngcontent-%COMP%]{color:gray}ion-img[_ngcontent-%COMP%]{margin-bottom:15px}.form[_ngcontent-%COMP%]{padding:35px;background-color:var(--ion-color-white);display:flex;flex-direction:column;justify-content:center;width:90%;max-width:400px;max-height:600px;border:1px solid var(--ion-border-color);border-radius:20px;box-shadow:2px 2px 20px 1px #0003}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}ion-item[_ngcontent-%COMP%]{--background: var(--ion-item-background);border-radius:5px;margin-bottom:10px;border:1px #BBB8B8 solid;padding:2px}ion-button.login[_ngcontent-%COMP%]{--background: var(--ion-color-pep);--padding-top: 18px;--padding-bottom: 18px;--box-shadow:none}ion-button[_ngcontent-%COMP%]{--background: var(--ion-color-pep);height:60px}ion-content[_ngcontent-%COMP%]{height:100vh;display:flex}ion-img[_ngcontent-%COMP%]{width:220px}.divider[_ngcontent-%COMP%]{border-top:1px solid #bbb}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px}.title[_ngcontent-%COMP%]{font-size:24px;color:var(--ion-text-color);font-weight:500;margin:0}.subTitle[_ngcontent-%COMP%]{margin-top:5px}.register[_ngcontent-%COMP%]{text-align:center}.forgot[_ngcontent-%COMP%]{text-align:end;margin-bottom:10px}.full[_ngcontent-%COMP%]{height:100vh}.centralize[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.web-padding[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 15%;display:flex;justify-content:center;align-items:center;flex-direction:column}ion-item.invalid[_ngcontent-%COMP%]{border-color:var(--ion-color-danger)}.invalid[_ngcontent-%COMP%]{--highlight-color-invalid: var(--ion-color-danger)}"]}),l})()}];let L=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[d.iI.forChild(x),d.iI]}),l})(),E=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[u.MD,c.YN,a.bv,L]}),l})()}}]);