"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4177],{4177:(I,h,i)=>{i.r(h),i.d(h,{VagasCandidatasPageModule:()=>k});var c=i(177),g=i(1075),l=i(4341),m=i(8986),u=i(467),a=i(4438),p=i(6857),v=i(4796),f=i(9839),C=i(3656),V=i(7229),P=i(833);function b(t,r){if(1&t){const n=a.RV6();a.j41(0,"div",9),a.bIt("click",function(){const o=a.eBV(n).$implicit,s=a.XpG(2);return a.Njj(s.verVagaDetalhes(o.idVaga))}),a.nrm(1,"app-vaga",10),a.k0s()}if(2&t){const n=r.$implicit;a.R7$(),a.Y8G("titulo",n.titulo)("cidade",n.cidade)("regime",n.regime)("salario",n.salario)("pcd",n.pcd)("tipo",n.tipo)("data",n.dataLimite)("logo",n.logo)("empresa",n.idEmpresa.nomeEmpresa)("ocultarNome",n.ocultarNome)}}function M(t,r){if(1&t&&(a.j41(0,"div",7),a.DNE(1,b,2,10,"div",8),a.k0s()),2&t){const n=a.XpG();a.R7$(),a.Y8G("ngForOf",n.listaVagas)}}function y(t,r){1&t&&(a.j41(0,"div")(1,"p",11),a.EFF(2,"Voc\xea ainda n\xe3o se candidatou a nenhuma vaga."),a.k0s()())}const T=[{path:"",component:(()=>{var t;class r{constructor(e,o,s,d){this.candidatoService=e,this.authService=o,this.vagaService=s,this.navController=d,this.vagas=[],this.listaVagas=[...this.vagas],this.isDarkTheme=!1,this.user={},this.isLogged=!1,this.userType="",this.searchValue="",this.isToastOpen=!1,this.toastButtons=[{text:"Perfil",role:"info",handler:()=>{this.navController.navigateRoot("candidato-perfil")}},{text:"X",role:"cancel"}]}ngOnInit(){this.getCandidaturas(),this.checkTheme(),this.getUser(),this.authService.getJwt()&&(this.isLogged=!0),sessionStorage.clear()}ionViewWillEnter(){var e=this;return(0,u.A)(function*(){e.ngOnInit()})()}getCandidaturas(){var e=this;return(0,u.A)(function*(){const o=e.authService.getUser();if(o)try{const s=yield e.candidatoService.getCandidaturas(o);s&&s.length>0?(e.vagas=s.map(d=>(d.idEmpresa||console.warn(`Vaga ${d.idVaga} n\xe3o tem empresa associada!`),d)),e.listaVagas=[...e.vagas]):(e.vagas=[],e.listaVagas=[])}catch(s){console.error("Erro ao buscar candidaturas:",s),e.vagas=[],e.listaVagas=[]}else e.vagas=[],e.listaVagas=[]})()}getUser(){var e=this;return(0,u.A)(function*(){const o=e.authService.getUser(),s=e.authService.getType();null==o?e.isLogged=!1:("C"===(e.userType=null!=s?s:"",s)&&(e.user=yield e.candidatoService.getCandidato(o)),e.isLogged=!0)})()}search(){const e=this.searchValue.toLowerCase();this.listaVagas=this.vagas.filter(o=>o.titulo.toLowerCase().includes(e))}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,this.handleTheme()}checkTheme(){"dark"===localStorage.getItem("theme")?(document.body.setAttribute("color-scheme","dark"),this.isDarkTheme=!0):(document.body.setAttribute("color-scheme","light"),this.isDarkTheme=!1)}handleTheme(){this.isDarkTheme?(document.body.setAttribute("color-scheme","dark"),localStorage.setItem("theme","dark")):(document.body.setAttribute("color-scheme","light"),localStorage.setItem("theme","light"))}logout(){this.authService.logout(),this.navController.navigateRoot("login")}verVagaDetalhes(e){localStorage.setItem("idVaga",e),this.navController.navigateForward(["/vaga-detalhes"],{queryParams:{fromCandidaturas:!0}})}}return(t=r).\u0275fac=function(e){return new(e||t)(a.rXU(p.X),a.rXU(v.u),a.rXU(f.T),a.rXU(C.q9))},t.\u0275cmp=a.VBU({type:t,selectors:[["app-vagas-candidatas"]],decls:9,vars:7,consts:[[3,"fullscreen"],["icon","person","message","Registre suas informa\xe7\xf5es complementares para receber vagas que combinam com voc\xea!",1,"aviso",3,"buttons","isOpen"],[1,"web-padding"],["placeholder","T\xedtulo da vaga","show-clear-button","focus",1,"custom",3,"ionInput","ngModelChange","debounce","ngModel"],[1,"subtitle"],["class","vagas-grid",4,"ngIf"],[4,"ngIf"],[1,"vagas-grid"],["class","vaga-wrapper",3,"click",4,"ngFor","ngForOf"],[1,"vaga-wrapper",3,"click"],[3,"titulo","cidade","regime","salario","pcd","tipo","data","logo","empresa","ocultarNome"],[1,"subtitle","center"]],template:function(e,o){1&e&&(a.j41(0,"ion-content",0),a.nrm(1,"app-nav")(2,"ion-toast",1),a.j41(3,"div",2)(4,"ion-searchbar",3),a.bIt("ionInput",function(){return o.search()}),a.mxI("ngModelChange",function(d){return a.DH7(o.searchValue,d)||(o.searchValue=d),d}),a.k0s(),a.j41(5,"h4",4),a.EFF(6,"Candidaturas"),a.k0s(),a.DNE(7,M,2,1,"div",5)(8,y,3,0,"div",6),a.k0s()()),2&e&&(a.Y8G("fullscreen",!0),a.R7$(2),a.Y8G("buttons",o.toastButtons)("isOpen",o.isToastOpen),a.R7$(2),a.Y8G("debounce",500),a.R50("ngModel",o.searchValue),a.R7$(3),a.Y8G("ngIf",o.listaVagas.length>0),a.R7$(),a.Y8G("ngIf",0===o.listaVagas.length))},dependencies:[c.Sq,c.bT,l.BC,l.vS,g.W9,g.S1,g.op,g.Gw,V.Z,P.P],styles:[".web-padding[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 15%;display:flex;justify-content:start;align-items:center;flex-direction:column}.header[_ngcontent-%COMP%]{--background: var(--ion-color-pep);color:#fff}ion-searchbar.custom[_ngcontent-%COMP%]{--background: var(--ion-card-background);--border-radius: 10px;--padding-inline-start: 0px;margin-top:40px}ion-img[_ngcontent-%COMP%]{max-width:150px}ion-list[_ngcontent-%COMP%]{background-color:var(--ion-background-color)}ion-item[_ngcontent-%COMP%]{--background: var(--ion-background-color)}ion-label[_ngcontent-%COMP%]:hover{background-color:var(--ion-card-background)}.menu-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.popover[_ngcontent-%COMP%]{--background: var(--ion-card-background)}ion-button[_ngcontent-%COMP%]{--background: var(--ion-color-pep);--box-shadow: none}ion-header[_ngcontent-%COMP%]{box-shadow:none}.aviso[_ngcontent-%COMP%]{--background: var(--ion-color-pep);--color: var(--ion-text-color)}.aviso[_ngcontent-%COMP%]::part(button){color:var(--ion-text-color)}@media screen and (max-width: 600px){.web-padding[_ngcontent-%COMP%]{padding:0}.subtitle[_ngcontent-%COMP%]{font-size:18px;margin:0}}.header-with-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:20px}.vagas-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px;width:100%;margin-top:20px;align-items:start}.vaga-wrapper[_ngcontent-%COMP%]{height:100%;position:relative;display:flex;flex-direction:column}app-vaga[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}"]}),r})()}];let x=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.$C({type:t}),t.\u0275inj=a.G2t({imports:[m.iI.forChild(T),m.iI]}),r})();var O=i(5553);let k=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.$C({type:t}),t.\u0275inj=a.G2t({imports:[c.MD,l.YN,g.bv,x,O.h]}),r})()}}]);