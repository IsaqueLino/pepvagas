"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7232],{7232:(k,P,o)=>{o.r(P),o.d(P,{ListarAreaPageModule:()=>O});var g=o(177),c=o(4341),n=o(1075),f=o(8986),m=o(467),e=o(4438),p=o(4796),A=o(3656),b=o(7464),s=o(833);const u=["modal1"],_=["modal2"],v=()=>["/cadastro-area"],L=()=>["/home"];function x(a,d){if(1&a){const l=e.RV6();e.j41(0,"tr",13),e.bIt("click",function(){const r=e.eBV(l).$implicit,i=e.XpG();return e.Njj(i.onRowClick(r.idArea))}),e.j41(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s()()}if(2&a){const l=d.$implicit,t=e.XpG();e.AVh("selected",l.idArea===t.selectedIdArea),e.R7$(2),e.JRh(l.idArea),e.R7$(2),e.JRh(l.nome)}}function j(a,d){if(1&a){const l=e.RV6();e.j41(0,"ion-toolbar")(1,"ion-buttons",14)(2,"ion-button",13),e.bIt("click",function(){e.eBV(l);const r=e.XpG();return e.Njj(r.cancelar())}),e.EFF(3,"Voltar"),e.k0s()(),e.j41(4,"ion-title"),e.EFF(5," Alterar \xc1rea "),e.k0s(),e.j41(6,"ion-buttons",15)(7,"ion-button",16),e.bIt("click",function(){e.eBV(l);const r=e.XpG();return e.Njj(r.enviarAlteracao())}),e.EFF(8,"Enviar"),e.k0s()()(),e.j41(9,"ion-content",17)(10,"form",18)(11,"ion-item"),e.nrm(12,"ion-input",19),e.k0s()()()}if(2&a){const l=e.XpG();e.R7$(7),e.Y8G("strong",!0),e.R7$(3),e.Y8G("formGroup",l.area)}}const M=[{path:"",component:(()=>{var a;class d{constructor(t,r,i,h,C,y,I){this.formBuilder=t,this.authService=r,this.alertController=i,this.navController=h,this.toastController=C,this.areaService=y,this.navigationController=I,this.listaArea=[],this.selectedIdArea=null,this.currentPage=1,this.itemsPerPage=10,this.message="This modal example uses triggers to automatically open a modal when the button is clicked.",null==this.authService.getJwt()&&this.navController.navigateRoot("login"),this.area=this.formBuilder.group({nome:[null]})}ngOnInit(){this.carregarLista()}onWillDismiss(t){"confirm"===t.detail.role&&(this.message=`Hello, ${t.detail.data}!`)}carregarLista(){var t=this;return(0,m.A)(function*(){t.listaArea=yield t.areaService.buscarTodasAreas(),(yield t.areaService.buscarTodasAreas()).subscribe(r=>{t.listaArea=r}),console.log(t.listaArea)})()}onRowClick(t){this.selectedIdArea=t,console.log("ID da \xe1rea selecionada:",this.selectedIdArea)}validateAndOpenModal(){var t=this;return(0,m.A)(function*(){null!==t.selectedIdArea?t.modal.present():(yield t.toastController.create({message:"Selecione uma \xe1rea para poder alterar.",duration:2e3,position:"bottom"})).present()})()}cancelar(){var t=this;return(0,m.A)(function*(){t.modal.dismiss(null,"cancel")})()}get paginatedListaTipo(){const t=(this.currentPage-1)*this.itemsPerPage;return this.listaArea.slice(t,t+this.itemsPerPage)}nextPage(){this.currentPage++}previousPage(){this.currentPage>1&&this.currentPage--}excluir(){var t=this;return(0,m.A)(function*(){if(null!=t.selectedIdArea){const r=String(t.selectedIdArea),i=yield t.areaService.excluir(r);console.log(i),t.carregarLista(),t.modal2.dismiss(null,"cancel"),(yield t.toastController.create({message:"\xc1rea exclu\xedda com sucesso.",duration:2e3,position:"bottom"})).present()}})()}enviarAlteracao(){var t=this;return(0,m.A)(function*(){if(null!=t.area.value.nome){if(null!==t.selectedIdArea){let r=String(t.selectedIdArea);const i=t.areaService.atualizarArea(r,t.area.value.nome);console.log(i),t.modal.dismiss(null,"cancel"),t.carregarLista()}}else(yield t.toastController.create({message:"O novo noem tem que ser informado para realizar a altera\xe7\xe3o",duration:2e3,position:"bottom"})).present()})()}onWillDismissPassword(t){"confirm"===t.detail.role&&(this.message=`Hello, ${t.detail.data}!`)}exibirMensagem(t){var r=this;return(0,m.A)(function*(){(yield r.toastController.create({message:t,duration:3e3,position:"top"})).present()})()}confirmarExclusao(){var t=this;return(0,m.A)(function*(){null!=t.selectedIdArea?yield(yield t.alertController.create({header:"Confirma\xe7\xe3o",message:"Tem certeza de que deseja excluir a \xe1rea?",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Excluir",handler:()=>{t.excluir()}}]})).present():t.exibirMensagem("Selecione um representante")})()}}return(a=d).\u0275fac=function(t){return new(t||a)(e.rXU(c.ok),e.rXU(p.u),e.rXU(n.hG),e.rXU(A.q9),e.rXU(n.K_),e.rXU(b.x),e.rXU(A.q9))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-listar-area"]],viewQuery:function(t,r){if(1&t&&(e.GBs(u,7),e.GBs(_,7)),2&t){let i;e.mGM(i=e.lsd())&&(r.modal=i.first),e.mGM(i=e.lsd())&&(r.modal2=i.first)}},decls:43,vars:8,consts:[["modal1",""],[3,"fullscreen"],[1,"content"],[1,"container"],[1,"title"],[3,"selected","click",4,"ngFor","ngForOf"],[3,"click","disabled"],["size","3"],["expand","block",1,"teste",3,"routerLink"],["expand","block",1,"teste",3,"click"],["color","danger","expand","block",1,"teste",3,"click"],["color","light","expand","block",1,"teste",3,"routerLink"],[3,"willDismiss"],[3,"click"],["slot","start"],["slot","end"],[3,"click","strong"],[1,"ion-padding"],[3,"formGroup"],["formControlName","nome","label","Nome","labelPlacement","floating","placeholder","Informe o novo nome para a \xe1rea"]],template:function(t,r){if(1&t){const i=e.RV6();e.j41(0,"ion-content",1),e.nrm(1,"app-nav"),e.j41(2,"div",2)(3,"div",3)(4,"ion-card")(5,"ion-card-header")(6,"h1",4),e.EFF(7," Listar \xc1reas "),e.k0s()(),e.j41(8,"ion-card-content")(9,"ion-grid")(10,"ion-row")(11,"ion-col")(12,"table")(13,"thead")(14,"tr")(15,"th"),e.EFF(16,"ID"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Nome"),e.k0s()()(),e.j41(19,"tbody"),e.DNE(20,x,5,4,"tr",5),e.k0s()()(),e.nrm(21,"ion-row"),e.k0s(),e.j41(22,"ion-col")(23,"ion-button",6),e.bIt("click",function(){return e.eBV(i),e.Njj(r.previousPage())}),e.EFF(24,"Anterior"),e.k0s(),e.j41(25,"ion-button",6),e.bIt("click",function(){return e.eBV(i),e.Njj(r.nextPage())}),e.EFF(26,"Pr\xf3ximo"),e.k0s()()()()(),e.j41(27,"ion-row")(28,"ion-col",7)(29,"ion-button",8),e.EFF(30,"Cadastrar"),e.k0s()(),e.j41(31,"ion-col",7)(32,"ion-button",9),e.bIt("click",function(){return e.eBV(i),e.Njj(r.validateAndOpenModal())}),e.EFF(33,"Alterar"),e.k0s()(),e.j41(34,"ion-col",7)(35,"ion-button",10),e.bIt("click",function(){return e.eBV(i),e.Njj(r.confirmarExclusao())}),e.EFF(36,"Excluir"),e.k0s()(),e.j41(37,"ion-col",7)(38,"ion-button",11),e.EFF(39,"Cancelar"),e.k0s()()()()(),e.j41(40,"ion-modal",12,0),e.bIt("willDismiss",function(C){return e.eBV(i),e.Njj(r.onWillDismiss(C))}),e.DNE(42,j,13,2,"ng-template"),e.k0s()()}2&t&&(e.Y8G("fullscreen",!0),e.R7$(20),e.Y8G("ngForOf",r.paginatedListaTipo),e.R7$(3),e.Y8G("disabled",1===r.currentPage),e.R7$(2),e.Y8G("disabled",r.currentPage*r.itemsPerPage>=r.listaArea.length),e.R7$(4),e.Y8G("routerLink",e.lJ4(6,v)),e.R7$(9),e.Y8G("routerLink",e.lJ4(7,L)))},dependencies:[c.qT,c.BC,c.cb,n.Jm,n.QW,n.b_,n.I9,n.ME,n.hU,n.W9,n.lO,n.$w,n.uz,n.ln,n.BC,n.ai,n.Sb,n.Gw,n.N7,g.Sq,s.P,c.j4,c.JD,f.Wk],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]{overflow-y:auto}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.teste[_ngcontent-%COMP%]{--padding-top: 18px;--background: var(--ion-color-pep);--padding-bottom: 18px}.container[_ngcontent-%COMP%]{padding:0 10px;display:flex;flex-direction:column;justify-content:center;width:80%;max-width:1000px}ion-item[_ngcontent-%COMP%]{--background: var(--ion-item-background);border-radius:5px;margin-bottom:10px;border:1px #BBB8B8 solid;padding:2px}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:500;margin:0}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}ion-img[_ngcontent-%COMP%]{max-width:150px}.header[_ngcontent-%COMP%]{--background: var(--ion-color-pep);color:#fff}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f8f8f8;font-weight:700}tr.selected[_ngcontent-%COMP%]{background-color:#d1e7dd}ion-card[_ngcontent-%COMP%]{box-shadow:#00000059 0 5px 15px}"]}),d})()}];let E=(()=>{var a;class d{}return(a=d).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[f.iI.forChild(M),f.iI]}),d})();var F=o(5553);let O=(()=>{var a;class d{}return(a=d).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[[c.YN,n.bv.forRoot({})],g.MD,F.h,c.YN,n.bv,c.X1,E]}),d})()},7464:(k,P,o)=>{o.d(P,{x:()=>e});var g=o(467),c=o(317),n=o(5312),f=o(4438),m=o(1626);let e=(()=>{var p;class A{constructor(s){this.http=s,this.urlBase=n.c.API}buscarTodasAreas(){var s=this;return(0,g.A)(function*(){return s.http.get(s.urlBase+"/area/list")})()}cadastrarArea(s){var u=this;return(0,g.A)(function*(){return yield c.A.create({baseURL:u.urlBase}).post("/area/create",{nome:s})})()}buscarAreaPorID(s){var u=this;return(0,g.A)(function*(){return yield c.A.create({baseURL:u.urlBase}).get(u.urlBase+"/area/find/"+s)})()}atualizarArea(s,u){var _=this;return(0,g.A)(function*(){return yield c.A.create({baseURL:_.urlBase}).put("/area/update/"+s,{nome:u})})()}excluir(s){var u=this;return(0,g.A)(function*(){return yield c.A.create({baseURL:u.urlBase}).delete(u.urlBase+"/area/delete/"+s)})()}getAreas(){var s=this;return(0,g.A)(function*(){return(yield c.A.create({baseURL:s.urlBase}).get("/area/list")).data})()}}return(p=A).\u0275fac=function(s){return new(s||p)(f.KVO(m.Qq))},p.\u0275prov=f.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}),A})()}}]);