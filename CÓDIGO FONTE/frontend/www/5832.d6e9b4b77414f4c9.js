"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5832],{5832:(x,h,a)=>{a.r(h),a.d(h,{CadastroAdministradorPageModule:()=>T});var f=a(177),i=a(4341),r=a(1075),v=a(1208),u=a(8986),p=a(467),o=a(4438),C=a(4796),b=a(3656),P=a(5619),A=a(833);const k=()=>["/tela-administrador"];function y(e,l){1&e&&(o.j41(0,"ion-note",12),o.EFF(1," Por favor, insira um e-mail v\xe1lido (exemplo: usuario@dominio.com) "),o.k0s())}function M(e,l){1&e&&(o.j41(0,"ion-note",12),o.EFF(1," O campo e-mail \xe9 obrigat\xf3rio "),o.k0s())}const j=[{path:"",component:(()=>{var e;class l{constructor(t,n,s,c,m){this.formBuilder=t,this.authService=n,this.navController=s,this.toastController=c,this.adminService=m,this.isLogged=!1,null==this.authService.getJwt()&&this.navController.navigateRoot("login"),this.obrigatorio=this.formBuilder.group({nome:[null,i.k0.required],email:[null,[i.k0.required,i.k0.pattern(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)]],senha:[null,i.k0.required]})}ngOnInit(){this.checkTheme(),this.authService.getJwt()?this.isLogged=!0:this.navController.navigateRoot("/")}get email(){return this.obrigatorio.get("email")}logout(){this.authService.logout(),this.navController.navigateForward("login")}checkTheme(){"dark"==localStorage.getItem("theme")?document.body.setAttribute("color-scheme","dark"):document.body.setAttribute("color-scheme","light")}presentToast(t){var n=this;return(0,p.A)(function*(){(yield n.toastController.create({message:t,duration:2e3,position:"bottom"})).present()})()}onSubmit(){var t=this;return(0,p.A)(function*(){var n;if(t.obrigatorio.invalid)return t.obrigatorio.markAllAsTouched(),null!==(n=t.email)&&void 0!==n&&null!==(n=n.errors)&&void 0!==n&&n.pattern?void t.presentToast("Por favor, insira um e-mail v\xe1lido (exemplo: usuario@dominio.com)."):void Object.keys(t.obrigatorio.controls).forEach(c=>{var m;const g=t.obrigatorio.get(c);null!=g&&null!==(m=g.errors)&&void 0!==m&&m.required&&t.presentToast(`O campo ${c} \xe9 obrigat\xf3rio. Por favor, preencha-o.`)});if(t.obrigatorio.value.senha.length<4)return void t.presentToast("A senha deve ter no m\xedmino 4 caracteres.");let s=yield t.authService.createAccount(t.obrigatorio.value.email,t.obrigatorio.value.senha,"A");s.data&&(s=yield t.adminService.criar(s.data.idConta,t.obrigatorio.value.nome),t.presentToast("Conta criada com sucesso!"),t.navController.back())})()}}return(e=l).\u0275fac=function(t){return new(t||e)(o.rXU(i.ok),o.rXU(C.u),o.rXU(b.q9),o.rXU(r.K_),o.rXU(P.r))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-cadastro-administrador"]],decls:25,vars:6,consts:[[3,"fullscreen"],[1,"content"],[1,"container"],[1,"title"],[3,"formGroup"],["formControlName","nome","label","Nome","labelPlacement","floating","placeholder","Informe o nome","type","text"],["formControlName","email","label","Email","labelPlacement","floating","placeholder","Informe o email","type","email"],["color","danger","slot","error",4,"ngIf"],["formControlName","senha","label","Senha","labelPlacement","floating","placeholder","Informe a senha","type","password"],["size","6"],["expand","block",1,"teste",3,"click"],["color","light","expand","block",1,"teste",3,"routerLink"],["color","danger","slot","error"]],template:function(t,n){1&t&&(o.j41(0,"ion-content",0),o.nrm(1,"app-nav"),o.j41(2,"div",1)(3,"div",2)(4,"ion-card")(5,"ion-card-header")(6,"h1",3),o.EFF(7," Cadastro de Administrador"),o.k0s()(),o.j41(8,"ion-card-content")(9,"form",4)(10,"ion-item"),o.nrm(11,"ion-input",5),o.k0s(),o.j41(12,"ion-item"),o.nrm(13,"ion-input",6),o.DNE(14,y,2,0,"ion-note",7)(15,M,2,0,"ion-note",7),o.k0s(),o.j41(16,"ion-item"),o.nrm(17,"ion-input",8),o.k0s()()()(),o.j41(18,"ion-row")(19,"ion-col",9)(20,"ion-button",10),o.bIt("click",function(){return n.onSubmit()}),o.EFF(21," Cadastrar "),o.k0s()(),o.j41(22,"ion-col",9)(23,"ion-button",11),o.EFF(24," Cancelar "),o.k0s()()()()()()),2&t&&(o.Y8G("fullscreen",!0),o.R7$(9),o.Y8G("formGroup",n.obrigatorio),o.R7$(5),o.Y8G("ngIf",(null==n.email||null==n.email.errors?null:n.email.errors.pattern)&&(null==n.email?null:n.email.touched)),o.R7$(),o.Y8G("ngIf",(null==n.email||null==n.email.errors?null:n.email.errors.required)&&(null==n.email?null:n.email.touched)),o.R7$(8),o.Y8G("routerLink",o.lJ4(5,k)))},dependencies:[i.qT,i.BC,i.cb,r.Jm,r.b_,r.I9,r.ME,r.hU,r.W9,r.$w,r.uz,r.JI,r.ln,r.Gw,r.N7,f.bT,A.P,i.j4,i.JD,u.Wk],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]{overflow-y:auto}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.teste[_ngcontent-%COMP%]{--padding-top: 18px;--background: var(--ion-color-pep);--padding-bottom: 18px}.container[_ngcontent-%COMP%]{padding:0 10px;display:flex;flex-direction:column;justify-content:center;width:80%;max-width:1000px}ion-item[_ngcontent-%COMP%]{--background: var(--ion-item-background);border-radius:5px;margin-bottom:10px;border:1px #BBB8B8 solid;padding:2px}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:500;margin:0}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}ion-img[_ngcontent-%COMP%]{max-width:150px}.header[_ngcontent-%COMP%]{--background: var(--ion-color-pep);color:#fff}"]}),l})()}];let F=(()=>{var e;class l{}return(e=l).\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[u.iI.forChild(j),u.iI]}),l})();var O=a(5553);let T=(()=>{var e;class l{}return(e=l).\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[[i.YN,v.rt,r.bv.forRoot({})],f.MD,O.h,i.YN,r.bv,i.X1,F]}),l})()}}]);