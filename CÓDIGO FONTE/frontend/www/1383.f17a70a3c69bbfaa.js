"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1383],{1383:(L,g,i)=>{i.r(g),i.d(g,{ListarContasPageModule:()=>F});var u=i(177),m=i(4341),r=i(1075),d=i(8986),l=i(467),t=i(4438),C=i(3656),p=i(4796),P=i(833);const f=["modal2"],v=()=>["/home"];function x(o,c){if(1&o){const a=t.RV6();t.j41(0,"tr",9),t.bIt("click",function(){const e=t.eBV(a).$implicit,s=t.XpG();return t.Njj(s.onRowClick(e.idConta))}),t.j41(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s()()}if(2&o){const a=c.$implicit,n=t.XpG();t.AVh("selected",a.idConta===n.selectedIdConta),t.R7$(2),t.JRh(a.idConta),t.R7$(2),t.JRh(a.email),t.R7$(2),t.JRh(a.tipo)}}const k=[{path:"",component:(()=>{var o;class c{constructor(n,e,s,h){this.toastController=n,this.contaServico=e,this.alertController=s,this.navigationController=h,this.listaConta=[],this.selectedIdConta=null,this.currentPage=1,this.itemsPerPage=10,this.message="This modal example uses triggers to automatically open a modal when the button is clicked.",null==this.contaServico.getJwt()&&this.navigationController.navigateRoot("login")}ngOnInit(){this.carregarLista()}onRowClick(n){this.selectedIdConta=n,console.log("ID da \xe1rea selecionada:",this.selectedIdConta)}carregarLista(){var n=this;return(0,l.A)(function*(){try{const e=yield n.contaServico.listAcount();n.listaConta=e.data,console.log(n.listaConta)}catch(e){console.error("Erro ao carregar a lista de contas:",e)}})()}get paginatedListaConta(){const n=(this.currentPage-1)*this.itemsPerPage;return this.listaConta.slice(n,n+this.itemsPerPage)}nextPage(){this.currentPage*this.itemsPerPage<this.listaConta.length&&this.currentPage++}previousPage(){this.currentPage>1&&this.currentPage--}cancelar(){var n=this;return(0,l.A)(function*(){n.modal2.dismiss(null,"cancel")})()}excluir(){var n=this;return(0,l.A)(function*(){if(null!=n.selectedIdConta){const e=String(n.selectedIdConta),s=yield n.contaServico.deleteAccount(e);console.log(s),n.carregarLista(),n.modal2.dismiss(null,"cancel"),(yield n.toastController.create({message:"\xc1rea exclu\xedda com sucesso.",duration:2e3,position:"bottom"})).present()}})()}onWillDismissPassword(n){"confirm"===n.detail.role&&(this.message=`Hello, ${n.detail.data}!`)}exibirMensagem(n){var e=this;return(0,l.A)(function*(){(yield e.toastController.create({message:n,duration:3e3,position:"top"})).present()})()}confirmarExclusao(){var n=this;return(0,l.A)(function*(){null!=n.selectedIdConta?yield(yield n.alertController.create({header:"Confirma\xe7\xe3o",message:"Tem certeza de que deseja excluir a conta?",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Excluir",handler:()=>{n.excluir()}}]})).present():n.exibirMensagem("Selecione um representante")})()}}return(o=c).\u0275fac=function(n){return new(n||o)(t.rXU(r.K_),t.rXU(p.u),t.rXU(r.hG),t.rXU(C.q9))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-listar-contas"]],viewQuery:function(n,e){if(1&n&&t.GBs(f,7),2&n){let s;t.mGM(s=t.lsd())&&(e.modal2=s.first)}},decls:36,vars:6,consts:[[3,"fullscreen"],[1,"content"],[1,"container"],[1,"title"],[3,"selected","click",4,"ngFor","ngForOf"],[3,"click","disabled"],["size","6"],["color","danger","expand","block",1,"teste",3,"click"],["color","light","expand","block",1,"teste",3,"routerLink"],[3,"click"]],template:function(n,e){1&n&&(t.j41(0,"ion-content",0),t.nrm(1,"app-nav"),t.j41(2,"div",1)(3,"div",2)(4,"ion-card")(5,"ion-card-header")(6,"h1",3),t.EFF(7," Listar Contas "),t.k0s()(),t.j41(8,"ion-card-content")(9,"ion-grid")(10,"ion-row")(11,"ion-col")(12,"table")(13,"thead")(14,"tr")(15,"th"),t.EFF(16,"ID"),t.k0s(),t.j41(17,"th"),t.EFF(18,"Email"),t.k0s(),t.j41(19,"th"),t.EFF(20,"Tipo"),t.k0s()()(),t.j41(21,"tbody"),t.DNE(22,x,7,5,"tr",4),t.k0s()()()(),t.j41(23,"ion-row")(24,"ion-col")(25,"ion-button",5),t.bIt("click",function(){return e.previousPage()}),t.EFF(26,"Anterior"),t.k0s(),t.j41(27,"ion-button",5),t.bIt("click",function(){return e.nextPage()}),t.EFF(28,"Pr\xf3ximo"),t.k0s()()()()()(),t.j41(29,"ion-row")(30,"ion-col",6)(31,"ion-button",7),t.bIt("click",function(){return e.confirmarExclusao()}),t.EFF(32,"Excluir"),t.k0s()(),t.j41(33,"ion-col",6)(34,"ion-button",8),t.EFF(35,"Cancelar"),t.k0s()()()()()()),2&n&&(t.Y8G("fullscreen",!0),t.R7$(22),t.Y8G("ngForOf",e.paginatedListaConta),t.R7$(3),t.Y8G("disabled",1===e.currentPage),t.R7$(2),t.Y8G("disabled",e.currentPage*e.itemsPerPage>=e.listaConta.length),t.R7$(7),t.Y8G("routerLink",t.lJ4(5,v)))},dependencies:[u.Sq,P.P,r.Jm,r.b_,r.I9,r.ME,r.hU,r.W9,r.lO,r.ln,r.N7,d.Wk],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]{overflow-y:auto}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.teste[_ngcontent-%COMP%]{--padding-top: 18px;--background: var(--ion-color-pep);--padding-bottom: 18px}.container[_ngcontent-%COMP%]{padding:0 10px;display:flex;flex-direction:column;justify-content:center;width:80%;max-width:1000px}ion-item[_ngcontent-%COMP%]{--background: var(--ion-item-background);border-radius:5px;margin-bottom:10px;border:1px #BBB8B8 solid;padding:2px}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:500;margin:0}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}ion-img[_ngcontent-%COMP%]{max-width:150px}.header[_ngcontent-%COMP%]{--background: var(--ion-color-pep);color:#fff}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f8f8f8;font-weight:700}tr.selected[_ngcontent-%COMP%]{background-color:#d1e7dd}ion-card[_ngcontent-%COMP%]{box-shadow:#00000059 0 5px 15px}"]}),c})()}];let M=(()=>{var o;class c{}return(o=c).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[d.iI.forChild(k),d.iI]}),c})();var b=i(5553);let F=(()=>{var o;class c{}return(o=c).\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[u.MD,b.h,m.YN,r.bv,M]}),c})()}}]);