"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1208],{5169:(U,P,y)=>{function C(n){const{anchorOffset:e=0,focusOffset:i=0}=n.ownerDocument.getSelection()||{};return[Math.min(e,i),Math.max(e,i)]}y.d(P,{Gq:()=>R,NU:()=>Q,bc:()=>L,iZ:()=>I,oI:()=>T});class b{constructor(e){this.element=e,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,"\n")}set value(e){this.element.innerHTML=e.replace(/\n$/,"\n\n")}get selectionStart(){return C(this.element)[0]}get selectionEnd(){return C(this.element)[1]}setSelectionRange(e,i){!function f(n,[e,i]){var t,s;const o=n.ownerDocument,a=o.createRange();a.setStart(n.firstChild||n,Math.min(e,(null===(t=n.textContent)||void 0===t?void 0:t.length)||0)),a.setEnd(n.lastChild||n,Math.min(i,(null===(s=n.textContent)||void 0===s?void 0:s.length)||0));const l=o.getSelection();l&&(l.removeAllRanges(),l.addRange(a))}(this.element,[e||0,i||0])}select(){this.setSelectionRange(0,this.value.length)}}const I=n=>n.isContentEditable?function M(n){const e=new b(n);return new Proxy(n,{get(i,t){if(t in e)return e[t];const s=i[t];return"function"==typeof s?s.bind(i):s},set:(i,t,s,o)=>Reflect.set(t in e?e:i,t,s,o)})}(n):n.querySelector("input,textarea")||n,T={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"};class V{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const e=this.past.pop();e&&this.now&&(this.future.push(this.now),this.updateElement(e,"historyUndo"))}redo(){const e=this.future.pop();e&&this.now&&(this.past.push(this.now),this.updateElement(e,"historyRedo"))}updateHistory(e){if(!this.now)return void(this.now=e);const i=this.now.value!==e.value,t=this.now.selection.some((s,o)=>s!==e.selection[o]);!i&&!t||(i&&(this.past.push(this.now),this.future=[]),this.now=e)}updateElement(e,i){this.now=e,this.updateElementState(e,{inputType:i,data:null})}}function c(n){return"string"==typeof n}function k(n,e,i,t){let s="";for(let o=e.length;o<n.length;o++){const a=n[o],l=(null==t?void 0:t.value[o])===a;if(!c(a)||a===i&&!l)return s;s+=a}return s}function g(n,e){return Array.isArray(e)?n.length===e.length&&Array.from(n).every((i,t)=>{const s=e[t];return c(s)?i===s:i.match(s)}):e.test(n)}function w(n,e,i=null){if(g(n.value,e))return n;const{value:t,selection:s}=Array.isArray(e)?function A(n,e,i){let t=null,s=null;const o=Array.from(n.value).reduce((l,r,d)=>{const h=l+k(e,l,r,i),m=e[h.length];return c(m)?h+m:r.match(m)?(null===t&&d>=n.selection[0]&&(t=h.length),null===s&&d>=n.selection[1]&&(s=h.length),h+r):h},""),a=k(e,o,"",i);return{value:g(o+a,e)?o+a:o,selection:[null!=t?t:o.length,null!=s?s:o.length]}}(n,e,i):function O({value:n,selection:e},i){const[t,s]=e;let o=t,a=s;return{value:Array.from(n).reduce((r,d,u)=>{const h=r+d;return t===u&&(o=r.length),s===u&&(a=r.length),h.match(i)?h:r},""),selection:[o,a]}}(n,e);return{selection:s,value:Array.isArray(e)?t.slice(0,e.length):t}}function H(n,e){if(!Array.isArray(e))return n;const[i,t]=n.selection,s=[],o=Array.from(n.value).reduce((a,l,r)=>{const d=e[r];return r===i&&s.push(a.length),r===t&&s.push(a.length),c(d)&&d===l?a:a+l},"");return s.length<2&&s.push(...new Array(2-s.length).fill(o.length)),{value:o,selection:[s[0],s[1]]}}class F{constructor(e,i){this.initialElementState=e,this.maskOptions=i,this.value="",this.selection=[0,0];const{value:t,selection:s}=w(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=t,this.selection=s}addCharacters([e,i],t){const{value:s}=this,o=this.getMaskExpression({value:s.slice(0,e)+t+s.slice(i),selection:[e+t.length,e+t.length]}),a={value:s,selection:[e,i]},l=H(a,o),[r,d]=function E({value:n,selection:e},i,t){const[s,o]=e;return{value:n,selection:"replace"===("function"==typeof t?t({value:n,selection:e}):t)?[s,s+i.length]:[s,o]}}(l,t,this.maskOptions.overwriteMode).selection,u=l.value.slice(0,r)+t,h=u.length,m=w({value:u+l.value.slice(d),selection:[h,h]},o,a);if(s.slice(0,r)===w({value:u,selection:[h,h]},o,a).value||function p(n,...e){return e.every(({value:i,selection:t})=>i===n.value&&t[0]===n.selection[0]&&t[1]===n.selection[1])}(this,m))throw new Error("Invalid mask value");this.value=m.value,this.selection=m.selection}deleteCharacters([e,i]){if(e===i||!i)return;const{value:t}=this,s=this.getMaskExpression({value:t.slice(0,e)+t.slice(i),selection:[e,e]}),o={value:t,selection:[e,i]},a=H(o,s),[l,r]=a.selection,u=w({value:a.value.slice(0,l)+a.value.slice(r),selection:[l,l]},s,o);this.value=u.value,this.selection=u.selection}getMaskExpression(e){const{mask:i}=this.maskOptions;return"function"==typeof i?i(e):i}}class j{constructor(e){this.element=e,this.listeners=[]}listen(e,i,t){const s=i;this.element.addEventListener(e,s,t),this.listeners.push(()=>this.element.removeEventListener(e,s))}destroy(){this.listeners.forEach(e=>e())}}const v_CTRL=1,v_ALT=2,v_SHIFT=4,v_META=8;function _(n,e,i){return n.ctrlKey===!!(e&v_CTRL)&&n.altKey===!!(e&v_ALT)&&n.shiftKey===!!(e&v_SHIFT)&&n.metaKey===!!(e&v_META)&&n.keyCode===i}function R(n,e){var i;const t=n.value;if("string"==typeof e)n.value=e;else{const[s,o]=e.selection;n.value=e.value,n.matches(":focus")&&(null===(i=n.setSelectionRange)||void 0===i||i.call(n,s,o))}n.value!==t&&n.dispatchEvent(new Event("input",{bubbles:!0}))}function N({value:n,selection:e},i){const[t,s]=e;if(t!==s)return[t,s];const o=i?n.slice(t).indexOf("\n")+1||n.length:n.slice(0,s).lastIndexOf("\n")+1;return[i?t:o,i?o:s]}function G({value:n,selection:e},i){const[t,s]=e;return t!==s?[t,s]:(i?[t,s+1]:[t-1,s]).map(a=>Math.min(Math.max(a,0),n.length))}const Z=/\s+$/g,$=/^\s+/g,B=/\s/;function X({value:n,selection:e},i){const[t,s]=e;if(t!==s)return[t,s];if(i){const r=n.slice(t),[d]=r.match($)||[""],u=r.trimStart().search(B);return[t,-1!==u?t+d.length+u:n.length]}const o=n.slice(0,s),[a]=o.match(Z)||[""],l=o.trimEnd().split("").reverse().findIndex(r=>r.match(B));return[-1!==l?s-a.length-l:0,s]}function D(n=[]){return(e,...i)=>n.reduce((t,s)=>Object.assign(Object.assign({},t),s(t,...i)),e)}function L(n,e){const i=Object.assign(Object.assign({},T),e),t=D(i.preprocessors),s=D(i.postprocessors),o="string"==typeof n?{value:n,selection:[0,0]}:n,{elementState:a}=t({elementState:o,data:""},"validation"),l=new F(a,i),{value:r,selection:d}=s(l,o);return"string"==typeof n?r:{value:r,selection:d}}class Q extends V{constructor(e,i){super(),this.element=e,this.maskitoOptions=i,this.isTextArea="TEXTAREA"===this.element.nodeName,this.eventListener=new j(this.element),this.options=Object.assign(Object.assign({},T),this.maskitoOptions),this.preprocessor=D(this.options.preprocessors),this.postprocessor=D(this.options.postprocessors),this.teardowns=this.options.plugins.map(t=>t(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",t=>function K(n){return _(n,v_CTRL,89)||_(n,v_CTRL|v_SHIFT,90)||_(n,v_META|v_SHIFT,90)}(t)?(t.preventDefault(),this.redo()):function W(n){return _(n,v_CTRL,90)||_(n,v_META,90)}(t)?(t.preventDefault(),this.undo()):void 0),this.eventListener.listen("beforeinput",t=>{var s;const o=t.inputType.includes("Forward");switch(this.updateHistory(this.elementState),t.inputType){case"historyUndo":return t.preventDefault(),this.undo();case"historyRedo":return t.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:t,isForward:o,selection:G(this.elementState,o)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:t,isForward:o,selection:X(this.elementState,o),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:t,isForward:o,selection:N(this.elementState,o),force:!0});case"insertCompositionText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(t);default:return this.handleInsert(t,t.data||(null===(s=t.dataTransfer)||void 0===s?void 0:s.getData("text/plain"))||"")}}),this.eventListener.listen("input",({inputType:t})=>{"insertCompositionText"!==t&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}get elementState(){const{value:e,selectionStart:i,selectionEnd:t}=this.element;return{value:e,selection:[i||0,t||0]}}get maxLength(){const{maxLength:e}=this.element;return-1===e?1/0:e}destroy(){this.eventListener.destroy(),this.teardowns.forEach(e=>null==e?void 0:e())}updateElementState({value:e,selection:i},t={inputType:"insertText",data:null}){const s=this.elementState.value;this.updateValue(e),this.updateSelectionRange(i),s!==e&&this.dispatchInputEvent(t)}updateSelectionRange([e,i]){var t;const{element:s}=this;s.matches(":focus")&&(s.selectionStart!==e||s.selectionEnd!==i)&&(null===(t=s.setSelectionRange)||void 0===t||t.call(s,e,i))}updateValue(e){this.element.value=e}ensureValueFitsMask(){this.updateElementState(L(this.elementState,this.options))}dispatchInputEvent(e={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},e),{bubbles:!0,cancelable:!1})))}handleDelete({event:e,selection:i,isForward:t,force:s=!1}){const o={value:this.elementState.value,selection:i},[a,l]=o.selection,{elementState:r}=this.preprocessor({elementState:o,data:""},t?"deleteForward":"deleteBackward"),d=new F(r,this.options),[u,h]=r.selection;d.deleteCharacters([u,h]);const m=this.postprocessor(d,o);if(o.value.slice(0,a)+o.value.slice(l)!==m.value||s||this.element.isContentEditable){if(e.preventDefault(),function x(n,...e){return e.every(({value:i})=>i===n.value)}(o,r,d,m))return this.updateSelectionRange(t?[h,h]:[u,u]);this.updateElementState(m,{inputType:e.inputType,data:null}),this.updateHistory(m)}}handleInsert(e,i){const t=this.elementState,{elementState:s,data:o=i}=this.preprocessor({data:i,elementState:t},"insert"),a=new F(s,this.options);try{a.addCharacters(s.selection,o)}catch{return e.preventDefault()}const[l,r]=s.selection,d=t.value.slice(0,l)+i+t.value.slice(r),u=this.postprocessor(a,t);if(u.value.length>this.maxLength)return e.preventDefault();(d!==u.value||this.element.isContentEditable)&&(e.preventDefault(),this.updateElementState(u,{data:i,inputType:e.inputType}),this.updateHistory(u))}handleEnter(e){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(e,"\n")}}},1208:(U,P,y)=>{y.d(P,{rt:()=>x,uj:()=>I});var C=y(467),f=y(4438),b=y(4341),M=y(5169);let I=(()=>{class p{constructor(){this.elementRef=(0,f.WQX)(f.aKT).nativeElement,this.ngZone=(0,f.WQX)(f.SKi),this.maskedElement=null,this.options=null,this.elementPredicate=M.iZ;const c=(0,f.WQX)(b.me,{self:!0,optional:!0});if(c){const k=c.writeValue.bind(c);c.writeValue=g=>{k(this.options?(0,M.bc)(String(null!=g?g:""),this.options):g)}}}ngOnChanges(){var c=this;return(0,C.A)(function*(){var k;const{elementPredicate:g,options:A}=c;if(null===(k=c.maskedElement)||void 0===k||k.destroy(),!A)return;const O=yield g(c.elementRef);c.elementPredicate===g&&c.ngZone.runOutsideAngular(()=>{c.maskedElement=new M.NU(O,A)})})()}ngOnDestroy(){var c;null===(c=this.maskedElement)||void 0===c||c.destroy()}}return p.\u0275fac=function(c){return new(c||p)},p.\u0275dir=f.FsC({type:p,selectors:[["","maskito",""]],inputs:{options:[f.Mj6.None,"maskito","options"],elementPredicate:[f.Mj6.None,"maskitoElement","elementPredicate"]},standalone:!0,features:[f.OA$]}),p})(),x=(()=>{class p{}return p.\u0275fac=function(c){return new(c||p)},p.\u0275mod=f.$C({type:p}),p.\u0275inj=f.G2t({}),p})()}}]);