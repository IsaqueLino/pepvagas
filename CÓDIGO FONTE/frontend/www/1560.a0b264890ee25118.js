"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1560],{1560:(H,f,s)=>{s.r(f),s.d(f,{CandidatoPerfilPageModule:()=>w});var C=s(177),_=s(4341),r=s(1075),P=s(8986),m=s(467),A=s(764),e=s(4438),b=s(4796),j=s(3656),v=s(6857),k=s(7464),E=s(1322),M=s(1208),F=s(833);const S=["modal1"],I=["modal2"],N=["cidadesPopover"];function x(l,c){if(1&l){const t=e.RV6();e.j41(0,"ion-checkbox",82),e.bIt("ionChange",function(o){e.eBV(t);const n=e.XpG(3);return e.Njj(n.checkboxChange(o))}),e.j41(1,"ion-item",83),e.EFF(2),e.k0s()()}if(2&l){const t=c.$implicit,a=e.XpG(3);e.Y8G("checked",a.cidadesSelecionadas.includes(t))("value",t),e.R7$(2),e.SpI(" ",t," ")}}function y(l,c){if(1&l){const t=e.RV6();e.j41(0,"ion-searchbar",79),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG(2);return e.DH7(n.candidatoAlterado.cidade,o)||(n.candidatoAlterado.cidade=o),e.Njj(o)}),e.bIt("ionInput",function(o){e.eBV(t);const n=e.XpG(2);return e.Njj(n.handleCidadesFiltro(o))}),e.k0s(),e.j41(1,"ion-list",80),e.DNE(2,x,3,3,"ion-checkbox",81),e.k0s()}if(2&l){const t=e.XpG(2);e.R50("ngModel",t.candidatoAlterado.cidade),e.Y8G("debounce",500),e.R7$(),e.Y8G("inset",!0),e.R7$(),e.Y8G("ngForOf",t.cidadesFiltro)}}function R(l,c){if(1&l&&(e.j41(0,"ion-select-option",84),e.EFF(1),e.k0s()),2&l){const t=c.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t.nome," ")}}function T(l,c){if(1&l){const t=e.RV6();e.j41(0,"ion-toolbar")(1,"ion-buttons",32)(2,"ion-button",33),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cancel())}),e.EFF(3,"Voltar"),e.k0s()(),e.j41(4,"ion-buttons",34)(5,"ion-button",35),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirm())}),e.EFF(6,"Enviar"),e.k0s()()(),e.j41(7,"ion-content",36),e.nrm(8,"br"),e.j41(9,"h2",7),e.EFF(10,"Informa\xe7\xf5es Gerais"),e.k0s(),e.j41(11,"ion-item")(12,"ion-input",37),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.candidatoAlterado.nome,o)||(n.candidatoAlterado.nome=o),e.Njj(o)}),e.k0s()(),e.j41(13,"ion-item")(14,"ion-input",38),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.candidatoAlterado.nomeSocial,o)||(n.candidatoAlterado.nomeSocial=o),e.Njj(o)}),e.k0s()(),e.j41(15,"ion-item")(16,"ion-select",39),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.candidatoAlterado.genero,o)||(n.candidatoAlterado.genero=o),e.Njj(o)}),e.j41(17,"ion-select-option",40),e.EFF(18,"Feminino"),e.k0s(),e.j41(19,"ion-select-option",41),e.EFF(20,"Masculino"),e.k0s(),e.j41(21,"ion-select-option",42),e.EFF(22,"N\xe3o informar"),e.k0s()()(),e.j41(23,"ion-item")(24,"ion-input",43),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.candidatoAlterado.cpf,o)||(n.candidatoAlterado.cpf=o),e.Njj(o)}),e.k0s()(),e.j41(25,"ion-item")(26,"ion-input",44),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.candidatoAlterado.dataNascimento,o)||(n.candidatoAlterado.dataNascimento=o),e.Njj(o)}),e.k0s()(),e.j41(27,"ion-item")(28,"ion-select",45),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.candidatoAlterado.pcd,o)||(n.candidatoAlterado.pcd=o),e.Njj(o)}),e.j41(29,"ion-select-option",46),e.EFF(30,"Sim"),e.k0s(),e.j41(31,"ion-select-option",47),e.EFF(32,"N\xe3o"),e.k0s()()(),e.nrm(33,"br"),e.j41(34,"h2",7),e.EFF(35,"Informa\xe7\xf5es Complementares"),e.k0s(),e.j41(36,"ion-item")(37,"ion-select",48),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.candidatoAlterado.disponibilidade,o)||(n.candidatoAlterado.disponibilidade=o),e.Njj(o)}),e.j41(38,"ion-select-option",49),e.EFF(39,"Diurno"),e.k0s(),e.j41(40,"ion-select-option",50),e.EFF(41,"Noturno"),e.k0s(),e.j41(42,"ion-select-option",51),e.EFF(43,"Misto"),e.k0s()()(),e.j41(44,"ion-popover",52,2),e.bIt("didDismiss",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.dismissCidadesPopover())}),e.DNE(46,y,3,4,"ng-template"),e.k0s(),e.j41(47,"ion-item",53),e.bIt("click",function(o){e.eBV(t);const n=e.XpG();return e.Njj(n.mostrarCidades(o))}),e.j41(48,"div",54)(49,"p"),e.EFF(50,"Cidade(s) de Interesse"),e.k0s(),e.j41(51,"p",55),e.EFF(52),e.k0s()()(),e.j41(53,"ion-item")(54,"ion-select",56),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.candidatoAlterado.tipoVaga,o)||(n.candidatoAlterado.tipoVaga=o),e.Njj(o)}),e.j41(55,"ion-select-option",57),e.EFF(56,"Est\xe1gio"),e.k0s(),e.j41(57,"ion-select-option",58),e.EFF(58,"CLT"),e.k0s(),e.j41(59,"ion-select-option",59),e.EFF(60,"PJ"),e.k0s()()(),e.j41(61,"ion-item")(62,"ion-select",60),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.candidatoAlteradoAreas,o)||(n.candidatoAlteradoAreas=o),e.Njj(o)}),e.bIt("ionChange",function(o){e.eBV(t);const n=e.XpG();return e.Njj(n.onAreaChange(o))}),e.DNE(63,R,2,2,"ion-select-option",61),e.j41(64,"ion-select-option",62),e.EFF(65,"Cadastar nova \xe1rea"),e.k0s()()(),e.j41(66,"ion-item")(67,"ion-select",63),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.candidatoAlterado.nivelInstrucao,o)||(n.candidatoAlterado.nivelInstrucao=o),e.Njj(o)}),e.j41(68,"ion-select-option",64),e.EFF(69,"Ensino M\xe9dio Incompleto"),e.k0s(),e.j41(70,"ion-select-option",65),e.EFF(71,"Ensino M\xe9dio Completo"),e.k0s(),e.j41(72,"ion-select-option",66),e.EFF(73,"Curso Superior Incompleto"),e.k0s(),e.j41(74,"ion-select-option",67),e.EFF(75,"Curso Superior Completo"),e.k0s()()(),e.j41(76,"ion-item")(77,"ion-select",68),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.candidatoAlterado.cnh,o)||(n.candidatoAlterado.cnh=o),e.Njj(o)}),e.j41(78,"ion-select-option",69),e.EFF(79,"A"),e.k0s(),e.j41(80,"ion-select-option",70),e.EFF(81,"B"),e.k0s(),e.j41(82,"ion-select-option",71),e.EFF(83,"AB"),e.k0s(),e.j41(84,"ion-select-option",72),e.EFF(85,"C"),e.k0s(),e.j41(86,"ion-select-option",73),e.EFF(87,"D"),e.k0s(),e.j41(88,"ion-select-option",74),e.EFF(89,"E"),e.k0s()()(),e.j41(90,"ion-item")(91,"ion-input",75),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.candidatoAlterado.pretensaoSalarial,o)||(n.candidatoAlterado.pretensaoSalarial=o),e.Njj(o)}),e.k0s()(),e.j41(92,"ion-item")(93,"ion-input",76),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.candidatoAlterado.telefone,o)||(n.candidatoAlterado.telefone=o),e.Njj(o)}),e.k0s()(),e.j41(94,"ion-row")(95,"ion-col",18)(96,"ion-button",77),e.bIt("click",function(){e.eBV(t);const o=e.sdS(99);return e.Njj(o.click())}),e.EFF(97),e.k0s(),e.j41(98,"input",78,3),e.bIt("change",function(o){e.eBV(t);const n=e.XpG();return e.Njj(n.onFileSelected(o))}),e.k0s()()()()}if(2&l){const t=e.XpG();e.R7$(5),e.Y8G("strong",!0),e.R7$(7),e.R50("ngModel",t.candidatoAlterado.nome),e.R7$(2),e.R50("ngModel",t.candidatoAlterado.nomeSocial),e.R7$(2),e.R50("ngModel",t.candidatoAlterado.genero),e.R7$(8),e.Y8G("maskito",t.cpfMask)("maskitoElement",t.maskPredicate),e.R50("ngModel",t.candidatoAlterado.cpf),e.R7$(2),e.R50("ngModel",t.candidatoAlterado.dataNascimento),e.R7$(2),e.R50("ngModel",t.candidatoAlterado.pcd),e.R7$(9),e.R50("ngModel",t.candidatoAlterado.disponibilidade),e.R7$(7),e.Y8G("isOpen",t.isCidadesPopoverOpen),e.R7$(8),e.JRh(t.cidadesSelecionadasText),e.R7$(2),e.R50("ngModel",t.candidatoAlterado.tipoVaga),e.R7$(8),e.R50("ngModel",t.candidatoAlteradoAreas),e.R7$(),e.Y8G("ngForOf",t.opcoes),e.R7$(4),e.R50("ngModel",t.candidatoAlterado.nivelInstrucao),e.R7$(10),e.R50("ngModel",t.candidatoAlterado.cnh),e.R7$(14),e.Y8G("maskito",t.moneyMask)("maskitoElement",t.maskPredicate),e.R50("ngModel",t.candidatoAlterado.pretensaoSalarial),e.R7$(2),e.Y8G("maskito",t.phoneMask)("maskitoElement",t.maskPredicate),e.R50("ngModel",t.candidatoAlterado.telefone),e.R7$(4),e.SpI(" ",t.selectedFile?"Curr\xedculo Selecionado: "+t.selectedFile.name:"Enviar novo curr\xedculo"," ")}}function D(l,c){if(1&l){const t=e.RV6();e.j41(0,"ion-toolbar")(1,"ion-buttons",32)(2,"ion-button",33),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cancelPassword())}),e.EFF(3,"Voltar"),e.k0s()(),e.j41(4,"ion-buttons",34)(5,"ion-button",35),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmPassword())}),e.EFF(6,"Enviar"),e.k0s()()(),e.j41(7,"ion-content",36),e.nrm(8,"br"),e.j41(9,"h2",7),e.EFF(10,"Alterar Senha"),e.k0s(),e.j41(11,"ion-item")(12,"ion-input",85),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.senhaAtual,o)||(n.senhaAtual=o),e.Njj(o)}),e.nrm(13,"ion-input-password-toggle",86),e.k0s()(),e.j41(14,"ion-item")(15,"ion-input",87),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.novaSenha,o)||(n.novaSenha=o),e.Njj(o)}),e.nrm(16,"ion-input-password-toggle",86),e.k0s()(),e.j41(17,"ion-item")(18,"ion-input",88),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.confirmarNovaSenha,o)||(n.confirmarNovaSenha=o),e.Njj(o)}),e.nrm(19,"ion-input-password-toggle",86),e.k0s()()()}if(2&l){const t=e.XpG();e.R7$(5),e.Y8G("strong",!0),e.R7$(7),e.R50("ngModel",t.senhaAtual),e.R7$(3),e.R50("ngModel",t.novaSenha),e.R7$(3),e.R50("ngModel",t.confirmarNovaSenha)}}const G=[{path:"",component:(()=>{var l;class c{constructor(a,o,n,d,i,u,g){this.authService=a,this.navigationController=o,this.candidatoService=n,this.toastController=d,this.areaService=i,this.cidadeService=u,this.alertController=g,this.selectedFile=null,this.conta={},this.candidato={},this.candidatoAreas=[],this.candidatoAlterado={},this.candidatoAlteradoAreas=[],this.isDarkTheme=!1,this.senhaAtual="",this.novaSenha="",this.confirmarNovaSenha="",this.opcoes=[],this.user={},this.userType="",this.isLogged=!1,this.listaCidades=[],this.cidadesFiltro=[],this.cidadesSelecionadas=[],this.cidadeProcurada="",this.maskPredicate=function(){var p=(0,m.A)(function*(h){return h.getInputElement()});return function(h){return p.apply(this,arguments)}}(),this.phoneMask={mask:["(",/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/]},this.cpfMask={mask:[/\d/,/\d/,/\d/,".",/\d/,/\d/,/\d/,".",/\d/,/\d/,/\d/,"-",/\d/,/\d/]},this.moneyMask=(0,A.TK)({decimalZeroPadding:!0,precision:2,decimalSeparator:",",thousandSeparator:".",min:0,prefix:"R$"}),this.isCidadesPopoverOpen=!1,this.message="This modal example uses triggers to automatically open a modal when the button is clicked.",this.actionSheetButtons=[{text:"Prosseguir",role:"destructive",handler:()=>{this.deactivateAccount(this.conta.idConta)}},{text:"Cancelar",role:"cancel",data:{action:"cancel"}}]}ngOnInit(){var a=this;return(0,m.A)(function*(){null==a.authService.getJwt()&&a.navigationController.navigateRoot("login"),a.getUser();try{a.conta=yield a.authService.getContaDetails(),console.log("Conta obtida com sucesso!")}catch(o){console.error("Erro ao obter detalhes da conta:",o)}try{a.candidato=yield a.candidatoService.getCandidato(a.conta.idConta),console.log("candidato obtido com sucesso!"),a.candidato.pcd=a.pcdForString(a.candidato.pcd),a.candidato.cpf=a.formatCpf(a.candidato.cpf),a.candidato.telefone=a.formatTelefone(a.candidato.telefone),null!=a.candidato.pretensaoSalarial&&(a.candidato.pretensaoSalarial=a.converterParaMoeda(a.candidato.pretensaoSalarial)),null!=a.candidato.cidade&&(a.cidadesSelecionadas=a.convertStringToArray(a.candidato.cidade),a.cidadesSelecionadasText=a.candidato.cidade),console.log("CIDADES LISTA",a.cidadesSelecionadas),console.log("TAMANHO:",a.cidadesSelecionadas.length),a.obterOpcoes(),console.log("\xc1reas:",a.opcoes),console.log(a.candidato);try{console.log("ID da conta enviado: ",typeof a.conta.idConta),a.candidatoAreas=yield a.candidatoService.buscarAreasPorCandidatoId(a.conta.idConta),console.log("\xc1reas de interesse do candidato obtidas com sucesso!\n",a.candidatoAreas)}catch{console.error("Erro ao carregas as \xe1reas de interesse do candidato")}a.candidatoAlterado=Object.assign({},a.candidato),a.candidatoAlteradoAreas=[...a.opcoes],a.candidatoAlteradoAreas=a.candidatoAlteradoAreas.filter(o=>a.candidatoAreas.some(n=>n.idArea===o.idArea)),console.log(typeof a.candidatoAlterado.pretensaoSalarial)}catch(o){console.error("Erro ao obter detalhes do candidato:",o)}a.carregarCidades()})()}cancel(){this.candidatoAlterado=Object.assign({},this.candidato),this.selectedFile=null,this.modal.dismiss(null,"cancel"),this.candidatoAlteradoAreas=[...this.opcoes],this.candidatoAlteradoAreas=this.candidatoAlteradoAreas.filter(a=>this.candidatoAreas.some(o=>o.idArea===a.idArea)),null!=this.candidatoAlterado.cidade&&(this.candidatoAlterado.cidade=this.convertStringToArray(this.candidatoAlterado.cidade)),null!=this.candidato.cidade&&(this.cidadesSelecionadas=this.convertStringToArray(this.candidato.cidade),this.cidadesSelecionadasText=this.candidato.cidade)}confirm(){this.alterarCandidato()}onWillDismissPassword(a){"confirm"===a.detail.role&&(this.message=`Hello, ${a.detail.data}!`)}cancelPassword(){this.modal2.dismiss(null,"cancel"),this.senhaAtual="",this.novaSenha="",this.confirmarNovaSenha=""}confirmPassword(){this.updatePassword()}onWillDismiss(a){"confirm"===a.detail.role&&(this.message=`Hello, ${a.detail.data}!`)}onFileSelected(a){const o=a.target.files[0];null!=o&&(this.verifyFileSize(o)?this.exibirMensagem("Tamanho do arquivo deve ser de at\xe9 8MB"):this.selectedFile=o)}redirect(a){this.navigationController.navigateForward(a)}logout(){this.authService.logout(),this.navigationController.navigateForward("login")}mapGenero(a){switch(a){case"m":return"Masculino";case"f":return"Feminino";case"n":return"N\xe3o informar";default:return"G\xeanero n\xe3o especificado"}}mapPcd(a){return"1"===a?"Sim":"0"===a?"N\xe3o":"Valor inv\xe1lido"}pcdForString(a){return a?"1":"0"}formatCpf(a){return a&&11===a.length?a.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):a}formatTelefone(a){return a&&11===a.length?a.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):a}deactivateAccount(a){var o=this;return(0,m.A)(function*(){try{yield o.authService.deleteAccount(a),console.log("Conta exclu\xedda com sucesso!"),o.logout()}catch(n){console.error("Erro ao excluir conta:",n)}})()}exibirMensagem(a){var o=this;return(0,m.A)(function*(){(yield o.toastController.create({message:a,duration:3e3,position:"top"})).present()})()}alterarCandidato(){var a=this;return(0,m.A)(function*(){console.log("entrou alterar candidato");const n=new Date(a.candidatoAlterado.dataNascimento),d=new Date,u=(d.getTime()-n.getTime())/31536e6;if(console.log(a.candidatoAlterado.dataNascimento),""==a.candidatoAlterado.nome)a.exibirMensagem("O seu nome n\xe3o pode estar vazio.");else if(a.candidatoAlterado.cpf!=a.candidato.cpf)a.exibirMensagem("Voc\xea n\xe3o pode mudar de CPF");else if(null==n||""==a.candidatoAlterado.dataNascimento)a.exibirMensagem("Insira uma Data de Nascimento");else if(n.getTime()>d.getTime())a.exibirMensagem("Data inv\xe1lida");else if(u<16)a.exibirMensagem("Voc\xea deve ter pelo menos 16 anos.");else if(null!==a.candidatoAlterado.telefone&&a.candidatoAlterado.telefone.length<15)a.exibirMensagem("Complete o n\xfamero de telefone");else{try{let g;null!=a.candidatoAlterado.pretensaoSalarial&&(g=a.converterParaNumero(a.candidatoAlterado.pretensaoSalarial));const p=yield a.candidatoService.updateCandidato(a.candidatoAlterado.idconta,a.candidatoAlterado.nome,a.candidatoAlterado.nomeSocial,a.candidatoAlterado.genero,a.candidatoAlterado.cpf,a.candidatoAlterado.dataNascimento,a.candidatoAlterado.pcd,a.candidatoAlterado.disponibilidade,a.cidadesSelecionadasText,a.candidatoAlterado.tipoVaga,a.candidatoAlterado.nivelInstrucao,a.candidatoAlterado.cnh,g,a.candidatoAlterado.telefone);if(200===p.status){console.log("Candidato alterado com sucesso!");const h=a.atualizarAreasDeInteresseCandidato(a.conta.idConta,a.candidatoAlteradoAreas);a.candidatoAlteradoAreas=[...a.opcoes],a.candidatoAlteradoAreas=a.candidatoAlteradoAreas.filter(O=>a.candidatoAreas.some(X=>X.idArea===O.idArea)),console.log("NOVO: ",a.candidatoAlteradoAreas),200===(yield h).status&&(a.modal.dismiss(a.candidato.nome,"confirm"),a.ngOnInit(),a.exibirMensagem("Informa\xe7\xf5es alteradas com sucesso!"))}else console.error("Erro ao alterar candidato:",p.data),a.exibirMensagem("Erro ao alterar candidato. Por favor, tente novamente.")}catch(g){console.error("Erro ao alterar candidato:",g)}try{if(null!==a.selectedFile){const g=yield a.candidatoService.uploadFile(a.conta.idConta,a.selectedFile);console.log(g)}}catch(g){console.log("erro"+g)}}})()}updatePassword(){var a=this;return(0,m.A)(function*(){try{a.novaSenha.length<4?a.exibirMensagem("Nova senha deve ter no m\xednimo 4 caracteres"):a.novaSenha!=a.confirmarNovaSenha?a.exibirMensagem("A nova senha e sua confirma\xe7\xe3o n\xe3o coincidem"):200===(yield a.authService.updatePassword(a.conta.idConta,a.senhaAtual,a.novaSenha,a.confirmarNovaSenha)).status?(a.exibirMensagem("Senha atualizada com sucesso!"),a.modal2.dismiss(null,"confirm"),a.senhaAtual="",a.novaSenha="",a.confirmarNovaSenha=""):a.exibirMensagem("Senha Atual incorreta")}catch(o){console.error("Erro ao atualizar a senha:",o),a.exibirMensagem("Senha Atual incorreta")}})()}obterOpcoes(){var a=this;return(0,m.A)(function*(){console.log("Entrou");try{const o=yield a.areaService.getAreas();a.opcoes=o,a.opcoes.sort((n,d)=>n.nome.localeCompare(d.nome)),console.log("TODAS \xc1reas obtidas com sucesso:",a.opcoes)}catch(o){console.error("Erro ao buscar \xe1reas:",o)}})()}formatAreasInteresse(a){return a&&0!==a.length?a.map(n=>n.nome).join(", "):""}atualizarAreasDeInteresseCandidato(a,o){var n=this;return(0,m.A)(function*(){try{const d=yield n.candidatoService.updateAreasDeInteresse(a,o);return console.log("\xc1reas de interesse atualizadas com sucesso:",d),d}catch(d){throw console.error("Erro ao atualizar \xe1reas de interesse do candidato:",d),d}})()}getUser(){var a=this;return(0,m.A)(function*(){const o=a.authService.getUser(),n=a.authService.getType();if(null==o)a.isLogged=!1;else{switch(a.userType=null!=n?n:"",n){case"A":case"E":case"M":case"R":case"L":break;case"C":a.user=yield a.candidatoService.getCandidato(o)}a.isLogged=!0}})()}formatPretensaoSalarial(a){return null==a?"":`R$ ${a.toFixed(2).replace(".",",")}`}onAreaChange(a){var o=this;return(0,m.A)(function*(){var i;a.detail.value.includes("outro")&&(yield(yield o.alertController.create({header:"Outra \xc1rea de Interesse",inputs:[{name:"outraArea",type:"text",placeholder:"Informe a nova \xe1rea de interesse"}],buttons:[{text:"Cancelar",role:"cancel",handler:()=>{o.candidatoAlteradoAreas=o.candidatoAlteradoAreas.filter(i=>"outro"!==i)}},{text:"OK",handler:(i=(0,m.A)(function*(u){if(u.outraArea){yield o.areaService.cadastrarArea(u.outraArea);const g={id:u.outraArea,nome:u.outraArea};o.opcoes.push(g),o.candidatoAlteradoAreas=[...o.candidatoAlteradoAreas.filter(p=>"outro"!==p),g],o.exibirMensagem("Nova \xe1rea de interesse adicionada com sucesso.")}}),function(g){return i.apply(this,arguments)})}]})).present())})()}convertStringToArray(a){return a.split(",").map(o=>o.trim())}converterParaNumero(a){if("R$"==a)return null;let o=a.replace(/[^\d,.]/g,"");o=o.replace(".","");const n=parseFloat(o.replace(",","."));if(isNaN(n))throw new Error(`Valor "${a}" n\xe3o p\xf4de ser convertido para n\xfamero.`);return n}converterParaMoeda(a){if(isNaN(a))throw new Error("Valor numerico n\xe3o p\xf4de ser convertido para um n\xfamero");const n=a.toFixed(2).split(".");return`R$ ${n[0].replace(/\B(?=(\d{3})+(?!\d))/g,".")},${n[1]}`}dismissCidadesPopover(){this.cidadesSelecionadasText=this.cidadesSelecionadas.toString(),this.isCidadesPopoverOpen=!1,console.log(this.cidadesSelecionadasText)}handleCidadesFiltro(a){const o=a.target.value.toLowerCase();if(""==o)return this.cidadesFiltro=[...this.listaCidades],this.cidadesFiltro;this.cidadesFiltro=this.cidadesFiltro.filter(n=>{if(n.toLowerCase().indexOf(o)>-1)return n})}checkboxChange(a){var o;const n=null!==(o=a.detail)&&void 0!==o?o:null;n&&(n.checked?this.addOnCidades(n.value):this.removeCidade(n.value))}mostrarCidades(a){this.cidadesPopover.event=a,this.isCidadesPopoverOpen=!0}addOnCidades(a){this.cidadesSelecionadas.indexOf(a)<=-1&&this.cidadesSelecionadas.push(a),console.log("Adicionando cidades: "+this.cidadesSelecionadas),""==this.cidadesSelecionadas[0]&&this.cidadesSelecionadas.slice(0,1),console.log(this.cidadesSelecionadas[0]),console.log(this.cidadesSelecionadas.length)}removeCidade(a){const o=this.cidadesSelecionadas.indexOf(a);o>-1&&this.cidadesSelecionadas.splice(o,1),console.log("Cidades ap\xf3s remover: "+this.cidadesSelecionadas)}carregarCidades(){var a=this;return(0,m.A)(function*(){a.cidadeService.getCidades().subscribe(o=>{console.log(o),a.listaCidades=o.map(n=>n.nome),a.cidadesFiltro=[...a.listaCidades]})})()}verifyFileSize(a){return a.size>8388608}}return(l=c).\u0275fac=function(a){return new(a||l)(e.rXU(b.u),e.rXU(j.q9),e.rXU(v.X),e.rXU(r.K_),e.rXU(k.x),e.rXU(E.i),e.rXU(r.hG))},l.\u0275cmp=e.VBU({type:l,selectors:[["app-candidato-perfil"]],viewQuery:function(a,o){if(1&a&&(e.GBs(S,7),e.GBs(I,7),e.GBs(N,5)),2&a){let n;e.mGM(n=e.lsd())&&(o.modal=n.first),e.mGM(n=e.lsd())&&(o.modal2=n.first),e.mGM(n=e.lsd())&&(o.cidadesPopover=n.first)}},decls:97,vars:20,consts:[["modal1",""],["modal2",""],["cidadesPopover",""],["fileInput",""],["id","main-content"],[1,"content"],[1,"container"],[2,"text-align","center"],["size","6"],["label","Email","labelPlacement","floating","readonly","",3,"ngModelChange","ngModel"],["type","password","label","Senha","labelPlacement","floating","value","...................","readonly",""],["id","open-modal2","expand","block",1,"butao"],["label","Nome","labelPlacement","floating","placeholder","Nome n\xe3o informado","readonly","",3,"ngModelChange","ngModel"],["label","Nome Social","labelPlacement","floating","placeholder","Nome social n\xe3o informado","readonly","",3,"ngModelChange","ngModel"],["label","G\xeanero","labelPlacement","floating","placeholder","G\xeanero n\xe3o informado","readonly","",3,"value"],["label","CPF","readonly","","labelPlacement","floating","placeholder","CPF n\xe3o informado",3,"ngModelChange","maskito","maskitoElement","ngModel"],["label","Data de Nascimento","readonly","","labelPlacement","floating","placeholder","Data de nascimento n\xe3o informada","type","date",3,"ngModelChange","ngModel"],["label","PCD","readonly","","labelPlacement","floating","placeholder","N\xe3o caracterizado",3,"value"],["size","12"],["label","Cidade de Interesse","labelPlacement","floating","placeholder","Cidade de interesse n\xe3o informada","readonly","",3,"ngModelChange","ngModel"],["label","\xc1reas de Interesse","readonly","","labelPlacement","floating","placeholder","\xc1reas de interesse n\xe3o informadas",3,"value"],["label","Disponibilidade","labelPlacement","floating","placeholder","Hor\xe1rios n\xe3o informados","readonly","",3,"ngModelChange","ngModel"],["label","Vaga de Interesse","labelPlacement","floating","placeholder","Vaga de interesse n\xe3o informada","readonly","",3,"ngModelChange","ngModel"],["label","N\xedvel de Instru\xe7\xe3o","labelPlacement","floating","placeholder","N\xedvel de instru\xe7\xe3o n\xe3o informado","readonly","",3,"ngModelChange","ngModel"],["label","Tipo de CNH","labelPlacement","floating","placeholder","CNH n\xe3o informada","readonly","",3,"ngModelChange","ngModel"],["readonly","","label","Pretens\xe3o Salarial","labelPlacement","floating","placeholder","Pretens\xe3o salarial n\xe3o informada",3,"ngModelChange","ngModel"],["readonly","","label","Telefone","labelPlacement","floating","placeholder","Telefone para contato n\xe3o informado","maxlength","15","type","tel",3,"ngModelChange","maskito","maskitoElement","ngModel"],["id","open-modal","expand","block",1,"butao"],["expand","block","color","danger","fill","outline","id","open-action-sheet"],["trigger","open-action-sheet","header","Tem certeza que deseja desativar sua conta?",3,"buttons"],["trigger","open-modal",3,"willDismiss"],["trigger","open-modal2",3,"willDismiss"],["slot","start"],[3,"click"],["slot","end"],[3,"click","strong"],[1,"ion-padding"],["label","Nome","labelPlacement","floating","placeholder","Informe o nome",3,"ngModelChange","ngModel"],["label","Nome Social","labelPlacement","floating","placeholder","Informe o nome",3,"ngModelChange","ngModel"],["label","G\xeanero","label-placement","Informe o genero",3,"ngModelChange","ngModel"],["value","f"],["value","m"],["value","n"],["readonly","","label","CPF","value","240.189.008-48","labelPlacement","floating","placeholder","Informe o CPF","maxlength","14",3,"ngModelChange","maskito","maskitoElement","ngModel"],["label","Data de Nascimento","labelPlacement","floating","placeholder","Informe a data de nascimento","type","date",3,"ngModelChange","ngModel"],["label","PCD","label-placement","Informe se possui alguma defici\xeancia","type","numeric",3,"ngModelChange","ngModel"],["value","1"],["value","0"],["label","Disponibilidade","label-placement","Informe os hor\xe1rios disponiveis",3,"ngModelChange","ngModel"],["value","Diurno"],["value","Noturno"],["value","Misto"],[3,"didDismiss","isOpen"],[1,"clickable","flex-cidades",3,"click"],[1,"flex-cidades"],[1,"cidades-selecionadas"],["label","Vaga de Interesse","label-placement","Informe a vaga de interesse",3,"ngModelChange","ngModel"],["value","Est\xe1gio"],["value","CLT"],["value","PJ"],["multiple","true","label","\xc1reas de Interesse","labelPlacement","floating",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["value","outro"],["label","N\xedvel de Instru\xe7\xe3o","label-placement","Informe o nivel de instru\xe7\xe3o",3,"ngModelChange","ngModel"],["value","Ensino M\xe9dio Incompleto"],["value","Ensino M\xe9dio Completo"],["value","Curso Superior Incompleto"],["value","Curso Superior Completo"],["label","Tipo de CNH","label-placement","Informe o tipo da CNH",3,"ngModelChange","ngModel"],["value","A"],["value","B"],["value","AB"],["value","C"],["value","D"],["value","E"],["label","Pretens\xe3o Salarial","labelPlacement","floating","placeholder","Informe a pretens\xe3o salarial",3,"ngModelChange","maskito","maskitoElement","ngModel"],["label","Telefone","labelPlacement","floating","placeholder","Informe o telefone para contato","maxlength","15","type","tel",3,"ngModelChange","maskito","maskitoElement","ngModel"],["expand","block",1,"butao",3,"click"],["type","file","accept",".pdf",2,"display","none",3,"change"],[3,"ngModelChange","ionInput","ngModel","debounce"],["lines","none",1,"flex",3,"inset"],["class","clickable","labelPlacement","end","justify","start",3,"checked","value","ionChange",4,"ngFor","ngForOf"],["labelPlacement","end","justify","start",1,"clickable",3,"ionChange","checked","value"],[1,"none-item"],[3,"value"],["type","password","label","Senha atual","labelPlacement","floating",3,"ngModelChange","ngModel"],["slot","end","color","success"],["type","password","label","Senha nova","labelPlacement","floating",3,"ngModelChange","ngModel"],["type","password","label","Confirmar senha nova","labelPlacement","floating",3,"ngModelChange","ngModel"]],template:function(a,o){if(1&a){const n=e.RV6();e.j41(0,"ion-content",4),e.nrm(1,"app-nav"),e.j41(2,"div",5)(3,"div",6)(4,"ion-card")(5,"ion-card-content")(6,"h1",7),e.EFF(7,"Perfil do Candidato"),e.k0s(),e.nrm(8,"br"),e.j41(9,"h1",7),e.EFF(10,"Informa\xe7\xf5es da Conta"),e.k0s(),e.nrm(11,"br"),e.j41(12,"ion-row")(13,"ion-col",8)(14,"ion-item")(15,"ion-input",9),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(o.conta.email,i)||(o.conta.email=i),e.Njj(i)}),e.k0s()()(),e.j41(16,"ion-col",8)(17,"ion-item"),e.nrm(18,"ion-input",10),e.k0s()()(),e.j41(19,"ion-row")(20,"ion-col")(21,"ion-button",11),e.EFF(22,"Alterar Senha"),e.k0s()()(),e.nrm(23,"br")(24,"br"),e.j41(25,"h1",7),e.EFF(26,"Informa\xe7\xf5es Gerais"),e.k0s(),e.nrm(27,"br"),e.j41(28,"ion-row")(29,"ion-col",8)(30,"ion-item")(31,"ion-input",12),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(o.candidato.nome,i)||(o.candidato.nome=i),e.Njj(i)}),e.k0s()()(),e.j41(32,"ion-col",8)(33,"ion-item")(34,"ion-input",13),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(o.candidato.nomeSocial,i)||(o.candidato.nomeSocial=i),e.Njj(i)}),e.k0s()()()(),e.j41(35,"ion-row")(36,"ion-col",8)(37,"ion-item"),e.nrm(38,"ion-input",14),e.k0s()(),e.j41(39,"ion-col",8)(40,"ion-item")(41,"ion-input",15),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(o.candidato.cpf,i)||(o.candidato.cpf=i),e.Njj(i)}),e.k0s()()(),e.j41(42,"ion-col",8)(43,"ion-item")(44,"ion-input",16),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(o.candidato.dataNascimento,i)||(o.candidato.dataNascimento=i),e.Njj(i)}),e.k0s()()(),e.j41(45,"ion-col",8)(46,"ion-item"),e.nrm(47,"ion-input",17),e.k0s()()(),e.nrm(48,"br")(49,"br"),e.j41(50,"h1",7),e.EFF(51,"Informa\xe7\xf5es Complementares"),e.k0s(),e.nrm(52,"br"),e.j41(53,"ion-row")(54,"ion-col",18)(55,"ion-item")(56,"ion-input",19),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(o.candidato.cidade,i)||(o.candidato.cidade=i),e.Njj(i)}),e.k0s()()()(),e.j41(57,"ion-row")(58,"ion-col",18)(59,"ion-item"),e.nrm(60,"ion-input",20),e.k0s()()(),e.j41(61,"ion-row")(62,"ion-col",8)(63,"ion-item")(64,"ion-input",21),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(o.candidato.disponibilidade,i)||(o.candidato.disponibilidade=i),e.Njj(i)}),e.k0s()()(),e.j41(65,"ion-col",8)(66,"ion-item")(67,"ion-input",22),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(o.candidato.tipoVaga,i)||(o.candidato.tipoVaga=i),e.Njj(i)}),e.k0s()()()(),e.j41(68,"ion-row")(69,"ion-col",8)(70,"ion-item")(71,"ion-input",23),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(o.candidato.nivelInstrucao,i)||(o.candidato.nivelInstrucao=i),e.Njj(i)}),e.k0s()()(),e.j41(72,"ion-col",8)(73,"ion-item")(74,"ion-input",24),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(o.candidato.cnh,i)||(o.candidato.cnh=i),e.Njj(i)}),e.k0s()()(),e.j41(75,"ion-col",8)(76,"ion-item")(77,"ion-input",25),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(o.candidato.pretensaoSalarial,i)||(o.candidato.pretensaoSalarial=i),e.Njj(i)}),e.k0s()()(),e.j41(78,"ion-col",8)(79,"ion-item")(80,"ion-input",26),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(o.candidato.telefone,i)||(o.candidato.telefone=i),e.Njj(i)}),e.k0s()()()(),e.nrm(81,"br"),e.j41(82,"ion-row")(83,"ion-col")(84,"ion-button",27),e.EFF(85,"Alterar perfil"),e.k0s()()(),e.j41(86,"ion-row")(87,"ion-col")(88,"ion-button",28),e.EFF(89,"Desativar Conta"),e.k0s(),e.nrm(90,"ion-action-sheet",29),e.k0s()(),e.j41(91,"ion-modal",30,0),e.bIt("willDismiss",function(i){return e.eBV(n),e.Njj(o.onWillDismiss(i))}),e.DNE(93,T,100,24,"ng-template"),e.k0s(),e.j41(94,"ion-modal",31,1),e.bIt("willDismiss",function(i){return e.eBV(n),e.Njj(o.onWillDismissPassword(i))}),e.DNE(96,D,20,4,"ng-template"),e.k0s()()()()()()}2&a&&(e.R7$(15),e.R50("ngModel",o.conta.email),e.R7$(16),e.R50("ngModel",o.candidato.nome),e.R7$(3),e.R50("ngModel",o.candidato.nomeSocial),e.R7$(4),e.Y8G("value",o.mapGenero(o.candidato.genero)),e.R7$(3),e.Y8G("maskito",o.cpfMask)("maskitoElement",o.maskPredicate),e.R50("ngModel",o.candidato.cpf),e.R7$(3),e.R50("ngModel",o.candidato.dataNascimento),e.R7$(3),e.Y8G("value",o.mapPcd(o.candidato.pcd)),e.R7$(9),e.R50("ngModel",o.candidato.cidade),e.R7$(4),e.Y8G("value",o.formatAreasInteresse(o.candidatoAreas)),e.R7$(4),e.R50("ngModel",o.candidato.disponibilidade),e.R7$(3),e.R50("ngModel",o.candidato.tipoVaga),e.R7$(4),e.R50("ngModel",o.candidato.nivelInstrucao),e.R7$(3),e.R50("ngModel",o.candidato.cnh),e.R7$(3),e.R50("ngModel",o.candidato.pretensaoSalarial),e.R7$(3),e.Y8G("maskito",o.phoneMask)("maskitoElement",o.maskPredicate),e.R50("ngModel",o.candidato.telefone),e.R7$(10),e.Y8G("buttons",o.actionSheetButtons))},dependencies:[C.Sq,_.BC,_.tU,_.vS,r.wC,r.Jm,r.QW,r.b_,r.I9,r.eY,r.hU,r.W9,r.$w,r.Wv,r.uz,r.nf,r.ln,r.S1,r.Nm,r.Ip,r.ai,r.Sb,r.CF,r.hB,r.Je,r.Gw,M.uj,F.P],styles:[".butao[_ngcontent-%COMP%]{--background: var(--ion-color-pep)}.header[_ngcontent-%COMP%]{--background: var(--ion-color-pep);color:#fff}.logo-img[_ngcontent-%COMP%]{max-width:150px}.menu-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}ion-content[_ngcontent-%COMP%]{overflow-y:auto}.container[_ngcontent-%COMP%]{padding:0 10px;display:flex;flex-direction:column;justify-content:center;width:80%;max-width:1000px}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}ion-item[_ngcontent-%COMP%]{--background: var(--ion-item-background);border-radius:5px;margin-bottom:10px;border:1px #BBB8B8 solid;padding:2px}ion-card[_ngcontent-%COMP%]{box-shadow:#00000059 0 5px 15px}.none-item[_ngcontent-%COMP%]{border:none}"]}),c})()}];let V=(()=>{var l;class c{}return(l=c).\u0275fac=function(a){return new(a||l)},l.\u0275mod=e.$C({type:l}),l.\u0275inj=e.G2t({imports:[P.iI.forChild(G),P.iI]}),c})();var B=s(5553);let w=(()=>{var l;class c{}return(l=c).\u0275fac=function(a){return new(a||l)},l.\u0275mod=e.$C({type:l}),l.\u0275inj=e.G2t({imports:[C.MD,_.YN,r.bv,V,M.rt,B.h]}),c})()}}]);