"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{5075:($,f,i)=>{i.r(f),i.d(f,{HomePageModule:()=>G});var d=i(177),c=i(1075),b=i(4341),u=i(8986),g=i(467),e=i(4438),P=i(6857),S=i(4796),k=i(9839),C=i(5619),T=i(3656),y=i(858),V=i(2078),F=i(8516),M=i(3045),O=i(7229),E=i(833);const x=()=>["/tela-profissionais-liberais"],H=()=>["/vaga-detalhes"];function I(o,r){1&o&&(e.j41(0,"ion-content",10),e.EFF(1," As vagas s\xe3o listadas em ordem de prefer\xeancia, as que mais atendem aos interesses do candidato aparecem primeiro. "),e.k0s())}function R(o,r){if(1&o){const s=e.RV6();e.j41(0,"ion-col",12),e.bIt("click",function(){const a=e.eBV(s).$implicit,n=e.XpG(2);return e.Njj(n.verVagaDetalhes(a.idVaga))}),e.nrm(1,"app-vaga",13),e.k0s()}if(2&o){const s=r.$implicit;e.Y8G("routerLink",e.lJ4(10,H)),e.R7$(),e.FS9("titulo",s.titulo),e.FS9("cidade",s.cidade),e.FS9("regime",s.regime),e.FS9("salario",s.salario),e.FS9("pcd",s.pcd),e.FS9("tipo",s.tipo),e.FS9("data",s.dataLimite),e.FS9("logo",s.logo),e.FS9("empresa",s.idEmpresa.nomeEmpresa)}}function A(o,r){if(1&o&&(e.j41(0,"ion-grid")(1,"ion-row"),e.DNE(2,R,2,11,"ion-col",11),e.k0s()()),2&o){const s=e.XpG();e.R7$(2),e.Y8G("ngForOf",s.listaVagas)}}function L(o,r){1&o&&(e.j41(0,"div")(1,"p",14),e.EFF(2,"N\xe3o h\xe1 nenhuma vaga publicada."),e.k0s()())}const j=[{path:"",component:(()=>{var o;class r{constructor(t,a,n,l,h,m,p,v,X){this.candidatoService=t,this.authService=a,this.vagaService=n,this.adminService=l,this.navController=h,this.empresaService=m,this.representanteService=p,this.equipeService=v,this.profissionalLiberalService=X,this.vagas=[],this.listaVagas=[...this.vagas],this.vagasRelacionadas=[],this.isDarkTheme=!1,this.user={},this.userType="",this.isLogged=!1,this.isToastOpen=!1,this.toastButtons=[{text:"Perfil",role:"info",handler:()=>{this.navController.navigateRoot("candidato-perfil")}},{text:"X",role:"cancel"}],setTimeout(()=>{this.getVagas()},500),this.getUser(),sessionStorage.clear()}ngOnInit(){setTimeout(()=>{this.getVagas()},500),this.checkTheme(),this.getUser(),this.authService.getJwt()&&(this.isLogged=!0),"C"==this.userType?this.checkInteressesCandidato():"E"==this.userType&&this.navController.navigateRoot("/minhas-vagas"),sessionStorage.clear()}ionViewWillEnter(){var t=this;return(0,g.A)(function*(){t.ngOnInit()})()}checkInteressesCandidato(){var t=this;return(0,g.A)(function*(){t.isToastOpen=!(t.user.disponibilidade&&t.user.cidade&&t.user.tipoVaga&&0!=t.user.areas.length&&t.user.nivelInstrucao&&t.user.cnh&&t.user.pretensaoSalarial)})()}getUser(){var t=this;return(0,g.A)(function*(){const a=t.authService.getUser(),n=t.authService.getType();if(null==a)t.isLogged=!1;else{switch(t.userType=null!=n?n:"",n){case"A":t.user=yield t.adminService.getAdministrador(a);break;case"C":t.user=yield t.candidatoService.getCandidato(a);break;case"E":t.user=yield t.empresaService.getEmpresa(a);break;case"M":t.user=yield t.equipeService.getMembroEquipe(a);break;case"R":t.user=yield t.representanteService.getRepresentante(a);break;case"L":t.user=yield t.profissionalLiberalService.buscarProfissional(a)}t.isLogged=!0}})()}getVagas(){var t=this;return(0,g.A)(function*(){const a=yield t.vagaService.getVagas();t.vagas=a.data,t.listaVagas=[...t.vagas],t.matchVagas(),t.sortVagas()})()}matchVagas(){this.listaVagas.filter(t=>{let a=0;null!=this.user.pcd&&t.pcd==this.user.pcd&&a++,null!=this.user.pretensaoSalarial&&t.salario>=this.user.pretensaoSalarial&&a++,null!=this.user.tipoVaga&&t.regime.toLowerCase()==this.user.tipoVaga.toLowerCase()&&(a+=2),this.user.areas&&this.user.areas.forEach(n=>{n.idArea==t.idArea.idArea&&(a+=2)}),t.matchPoint=a})}sortVagas(){this.listaVagas.sort((t,a)=>t.matchPoint<=a.matchPoint?1:-1)}handleFilter(t){const a=t.target.value.toLowerCase();if(""==a)return this.listaVagas=[...this.vagas],this.listaVagas;this.listaVagas=this.listaVagas.filter(n=>{if(n.titulo.toLowerCase().indexOf(a)>-1)return n})}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,this.handleTheme()}checkTheme(){"dark"==localStorage.getItem("theme")?(document.body.setAttribute("color-scheme","dark"),this.isDarkTheme=!0):(document.body.setAttribute("color-scheme","light"),this.isDarkTheme=!1)}handleTheme(){this.isDarkTheme?(document.body.setAttribute("color-scheme","dark"),localStorage.setItem("theme","dark")):(document.body.setAttribute("color-scheme","light"),localStorage.setItem("theme","light"))}logout(){this.authService.logout(),this.navController.navigateRoot("login")}verVagaDetalhes(t){localStorage.setItem("idVaga",t)}}return(o=r).\u0275fac=function(t){return new(t||o)(e.rXU(P.X),e.rXU(S.u),e.rXU(k.T),e.rXU(C.r),e.rXU(T.q9),e.rXU(y.z),e.rXU(V.m),e.rXU(F.S),e.rXU(M.M))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-home"]],decls:16,vars:8,consts:[[3,"fullscreen"],["icon","person","message","Registre suas informa\xe7\xf5es complementares para receber vagas que combinam com voc\xea!",1,"aviso",3,"buttons","isOpen"],[1,"web-padding"],["placeholder","T\xedtulo da vaga","show-clear-button","focus",1,"custom",3,"ionInput","debounce"],[3,"routerLink"],[1,"header-with-button"],[1,"subtitle"],["id","home"],["trigger","home","triggerAction","click"],[4,"ngIf"],[1,"ion-padding"],[3,"routerLink","click",4,"ngFor","ngForOf"],[3,"click","routerLink"],[3,"titulo","cidade","regime","salario","pcd","tipo","data","logo","empresa"],[1,"subtitle","center"]],template:function(t,a){1&t&&(e.j41(0,"ion-content",0),e.nrm(1,"app-nav")(2,"ion-toast",1),e.j41(3,"div",2)(4,"ion-searchbar",3),e.bIt("ionInput",function(l){return a.handleFilter(l)}),e.k0s(),e.j41(5,"ion-button",4),e.EFF(6," Pesquisar Profissionais Liberais/Aut\xf4nomos"),e.k0s(),e.j41(7,"div",5)(8,"h4",6),e.EFF(9,"Vagas publicadas"),e.k0s(),e.j41(10,"ion-button",7),e.EFF(11,"?"),e.k0s()(),e.j41(12,"ion-popover",8),e.DNE(13,I,2,0,"ng-template"),e.k0s(),e.DNE(14,A,3,1,"ion-grid",9)(15,L,3,0,"div",9),e.k0s()()),2&t&&(e.Y8G("fullscreen",!0),e.R7$(2),e.Y8G("buttons",a.toastButtons)("isOpen",a.isToastOpen),e.R7$(2),e.Y8G("debounce",500),e.R7$(),e.Y8G("routerLink",e.lJ4(7,x)),e.R7$(9),e.Y8G("ngIf",a.listaVagas.length>0),e.R7$(),e.Y8G("ngIf",0===a.listaVagas.length))},dependencies:[d.Sq,d.bT,c.Jm,c.hU,c.W9,c.lO,c.ln,c.S1,c.op,c.CF,c.Gw,c.N7,u.Wk,O.Z,E.P],styles:[".web-padding[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 15%;display:flex;justify-content:start;align-items:center;flex-direction:column}.header[_ngcontent-%COMP%]{--background: var(--ion-color-pep);color:#fff}ion-searchbar.custom[_ngcontent-%COMP%]{--background: var(--ion-card-background);--border-radius: 10px;--padding-inline-start: 0px;margin-top:40px}ion-img[_ngcontent-%COMP%]{max-width:150px}ion-list[_ngcontent-%COMP%]{background-color:var(--ion-background-color)}ion-item[_ngcontent-%COMP%]{--background: var(--ion-background-color)}ion-label[_ngcontent-%COMP%]:hover{background-color:var(--ion-card-background)}.menu-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.popover[_ngcontent-%COMP%]{--background: var(--ion-card-background)}ion-button[_ngcontent-%COMP%]{--background: var(--ion-color-pep);--box-shadow: none}ion-header[_ngcontent-%COMP%]{box-shadow:none}.aviso[_ngcontent-%COMP%]{--background: var(--ion-color-pep);--color: var(--ion-text-color)}.aviso[_ngcontent-%COMP%]::part(button){color:var(--ion-text-color)}@media screen and (max-width: 600px){.web-padding[_ngcontent-%COMP%]{padding:0}.subtitle[_ngcontent-%COMP%]{font-size:18px;margin:0}}.header-with-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:20px}"]}),r})()}];let U=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[u.iI.forChild(j),u.iI]}),r})();var D=i(5553);let G=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[d.MD,b.YN,c.bv,U,D.h]}),r})()}}]);