"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3315],{3315:(y,v,t)=>{t.r(v),t.d(v,{CadastroAreaPageModule:()=>x});var l=t(177),n=t(4341),s=t(1075),f=t(1208),p=t(8986),C=t(467),e=t(4438),A=t(4796),M=t(3656),a=t(7464),i=t(833);const d=()=>["/listar-area"],b=[{path:"",component:(()=>{var o;class u{constructor(r,c,m,g,B){this.formBuilder=r,this.authService=c,this.navController=m,this.toastController=g,this.areaService=B,this.isDarkTheme=!1,this.isLogged=!1,null==this.authService.getJwt()&&this.navController.navigateRoot("login"),this.obrigatorio=this.formBuilder.group({nome:[null,n.k0.required]})}ngOnInit(){this.handleTheme(),this.authService.getJwt()&&(this.isLogged=!0)}logout(){this.authService.logout(),this.navController.navigateForward("login")}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,this.handleTheme()}handleTheme(){this.isDarkTheme?(document.body.setAttribute("color-scheme","dark"),localStorage.setItem("theme","dark")):(document.body.setAttribute("color-scheme","light"),localStorage.setItem("theme","light"))}presentToast(r){var c=this;return(0,C.A)(function*(){(yield c.toastController.create({message:r,duration:2e3,position:"bottom"})).present()})()}onSubmit(){var r=this;return(0,C.A)(function*(){if(r.obrigatorio.invalid)return void Object.keys(r.obrigatorio.controls).forEach(m=>{const g=r.obrigatorio.get(m);null!=g&&g.invalid&&g.errors&&g.errors.required&&r.presentToast(`O campo ${m} \xe9 obrigat\xf3rio. Por favor, preencha-o.`)});const c=yield r.areaService.cadastrarArea(r.obrigatorio.value.nome);console.log(c),201==c.status&&(r.presentToast("\xc1rea cadastrada com sucesso"),r.obrigatorio.reset())})()}}return(o=u).\u0275fac=function(r){return new(r||o)(e.rXU(n.ok),e.rXU(A.u),e.rXU(M.q9),e.rXU(s.K_),e.rXU(a.x))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-cadastro-area"]],decls:19,vars:4,consts:[[3,"fullscreen"],[1,"content"],[1,"container"],[1,"title"],[3,"formGroup"],["formControlName","nome","label","Nome","labelPlacement","floating","placeholder","Informe o nome da \xe1rea"],["size","6"],["expand","block",1,"teste",3,"click"],["color","light","expand","block",1,"teste",3,"routerLink"]],template:function(r,c){1&r&&(e.j41(0,"ion-content",0),e.nrm(1,"app-nav"),e.j41(2,"div",1)(3,"div",2)(4,"ion-card")(5,"ion-card-header")(6,"h1",3),e.EFF(7," Cadastro de \xc1rea "),e.k0s()(),e.j41(8,"ion-card-content")(9,"form",4)(10,"ion-item"),e.nrm(11,"ion-input",5),e.k0s()()()(),e.j41(12,"ion-row")(13,"ion-col",6)(14,"ion-button",7),e.bIt("click",function(){return c.onSubmit()}),e.EFF(15," Cadastrar "),e.k0s()(),e.j41(16,"ion-col",6)(17,"ion-button",8),e.EFF(18," Cancelar "),e.k0s()()()()()()),2&r&&(e.Y8G("fullscreen",!0),e.R7$(9),e.Y8G("formGroup",c.obrigatorio),e.R7$(8),e.Y8G("routerLink",e.lJ4(3,d)))},dependencies:[n.qT,n.BC,n.cb,s.Jm,s.b_,s.I9,s.ME,s.hU,s.W9,s.$w,s.uz,s.ln,s.Gw,s.N7,i.P,n.j4,n.JD,p.Wk],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]{overflow-y:auto}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.teste[_ngcontent-%COMP%]{--padding-top: 18px;--background: var(--ion-color-pep);--padding-bottom: 18px}.container[_ngcontent-%COMP%]{padding:0 10px;display:flex;flex-direction:column;justify-content:center;width:80%;max-width:1000px}ion-item[_ngcontent-%COMP%]{--background: var(--ion-item-background);border-radius:5px;margin-bottom:10px;border:1px #BBB8B8 solid;padding:2px}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:500;margin:0}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}ion-img[_ngcontent-%COMP%]{max-width:150px}.header[_ngcontent-%COMP%]{--background: var(--ion-color-pep);color:#fff}"]}),u})()}];let O=(()=>{var o;class u{}return(o=u).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[p.iI.forChild(b),p.iI]}),u})();var T=t(5553);let x=(()=>{var o;class u{}return(o=u).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[[n.YN,f.rt,s.bv.forRoot({})],l.MD,T.h,n.YN,s.bv,n.X1,O]}),u})()},7464:(y,v,t)=>{t.d(v,{x:()=>C});var l=t(467),n=t(317),s=t(5312),f=t(4438),p=t(1626);let C=(()=>{var e;class A{constructor(a){this.http=a,this.urlBase=s.c.API}buscarTodasAreas(){var a=this;return(0,l.A)(function*(){return a.http.get(a.urlBase+"/area/list")})()}cadastrarArea(a){var i=this;return(0,l.A)(function*(){return yield n.A.create({baseURL:i.urlBase}).post("/area/create",{nome:a})})()}buscarAreaPorID(a){var i=this;return(0,l.A)(function*(){return yield n.A.create({baseURL:i.urlBase}).get(i.urlBase+"/area/find/"+a)})()}atualizarArea(a,i){var d=this;return(0,l.A)(function*(){return yield n.A.create({baseURL:d.urlBase}).put("/area/update/"+a,{nome:i})})()}excluir(a){var i=this;return(0,l.A)(function*(){return yield n.A.create({baseURL:i.urlBase}).delete(i.urlBase+"/area/delete/"+a)})()}getAreas(){var a=this;return(0,l.A)(function*(){return(yield n.A.create({baseURL:a.urlBase}).get("/area/list")).data})()}}return(e=A).\u0275fac=function(a){return new(a||e)(f.KVO(p.Qq))},e.\u0275prov=f.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),A})()}}]);