"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9923],{9923:(I,m,s)=>{s.r(m),s.d(m,{ListarTipoServicoPageModule:()=>M});var v=s(177),c=s(4341),n=s(1075),u=s(8986),p=s(467),t=s(4438),f=s(4796),h=s(3656),T=s(7700),P=s(833);const _=["modal1"],b=["modal2"],S=()=>["/cadastro-tipo-servico"],k=()=>["/home"];function x(i,l){if(1&i){const a=t.RV6();t.j41(0,"tr",13),t.bIt("click",function(){const o=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.onRowClick(o.idTipoServico))}),t.j41(1,"td"),t.EFF(2),t.k0s()()}if(2&i){const a=l.$implicit,e=t.XpG();t.AVh("selected",a.idTipoServico===e.selectedIdTipo),t.R7$(2),t.JRh(a.nome)}}function j(i,l){if(1&i){const a=t.RV6();t.j41(0,"ion-toolbar")(1,"ion-buttons",14)(2,"ion-button",13),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.cancelar())}),t.EFF(3,"Voltar"),t.k0s()(),t.j41(4,"ion-title"),t.EFF(5," Alterar Tipo de Servi\xe7o "),t.k0s(),t.j41(6,"ion-buttons",15)(7,"ion-button",16),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.enviarAlteracao())}),t.EFF(8,"Enviar"),t.k0s()()(),t.j41(9,"ion-content",17)(10,"form",18)(11,"ion-item"),t.nrm(12,"ion-input",19),t.k0s()()()}if(2&i){const a=t.XpG();t.R7$(7),t.Y8G("strong",!0),t.R7$(3),t.Y8G("formGroup",a.tipoForm)}}const C=[{path:"",component:(()=>{var i;class l{constructor(e,o,r,d,g,y){this.formBuilder=e,this.authService=o,this.alertController=r,this.toastController=d,this.tipoService=g,this.navigationController=y,this.listaTipo=[],this.selectedIdTipo=null,this.currentPage=1,this.itemsPerPage=10,this.message="This modal example uses triggers to automatically open a modal when the button is clicked.",null==this.authService.getJwt()&&this.navigationController.navigateRoot("login"),this.tipoForm=this.formBuilder.group({nome:[null]})}ngOnInit(){this.carregarLista()}onWillDismiss(e){"confirm"===e.detail.role&&(this.message=`Hello, ${e.detail.data}!`)}onRowClick(e){this.selectedIdTipo=e}carregarLista(){var e=this;return(0,p.A)(function*(){e.listaTipo=yield e.tipoService.buscarTodosServicos()})()}validateAndOpenModal(){var e=this;return(0,p.A)(function*(){if(null!==e.selectedIdTipo){const o=e.listaTipo.find(r=>r.idTipoServico===e.selectedIdTipo);o&&(e.tipoForm.patchValue({nome:o.nome}),e.modal.present())}else e.exibirMensagem("Selecione um tipo de servi\xe7o para poder alterar.")})()}cancelar(){var e=this;return(0,p.A)(function*(){e.tipoForm.reset(),e.modal.dismiss(null,"cancel")})()}get paginatedListaTipo(){const e=(this.currentPage-1)*this.itemsPerPage;return this.listaTipo.slice(e,e+this.itemsPerPage)}nextPage(){this.currentPage++}ionViewWillEnter(){this.carregarLista()}previousPage(){this.currentPage>1&&this.currentPage--}excluir(){var e=this;return(0,p.A)(function*(){if(null!=e.selectedIdTipo){const o=String(e.selectedIdTipo);200===(yield e.tipoService.excluir(o)).status&&(e.carregarLista(),(yield e.toastController.create({message:"Tipo de servi\xe7o exclu\xeddo com sucesso!",duration:2e3,position:"bottom"})).present(),e.selectedIdTipo=null)}})()}enviarAlteracao(){var e=this;return(0,p.A)(function*(){if(null!=e.tipoForm.value.nome){if(null!==e.selectedIdTipo){let o=String(e.selectedIdTipo);200===(yield e.tipoService.atualizarTipo(o,e.tipoForm.value.nome)).status&&(e.tipoForm.reset(),e.modal.dismiss(null,"cancel"),e.carregarLista(),(yield e.toastController.create({message:"Tipo de servi\xe7o alterado com sucesso!",duration:2e3,position:"bottom"})).present())}}else(yield e.toastController.create({message:"O novo nome tem que ser informado para realizar a altera\xe7\xe3o.",duration:2e3,position:"bottom"})).present()})()}onWillDismissPassword(e){"confirm"===e.detail.role&&(this.message=`Hello, ${e.detail.data}!`)}exibirMensagem(e){var o=this;return(0,p.A)(function*(){(yield o.toastController.create({message:e,duration:3e3,position:"top"})).present()})()}confirmarExclusao(){var e=this;return(0,p.A)(function*(){null!=e.selectedIdTipo?yield(yield e.alertController.create({header:"Confirma\xe7\xe3o",message:"Tem certeza de que deseja excluir o tipo de servi\xe7o?",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Excluir",handler:()=>{e.excluir()}}]})).present():e.exibirMensagem("Selecione um tipo de servi\xe7o.")})()}}return(i=l).\u0275fac=function(e){return new(e||i)(t.rXU(c.ok),t.rXU(f.u),t.rXU(n.hG),t.rXU(n.K_),t.rXU(T.d),t.rXU(h.q9))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-listar-tipo-servico"]],viewQuery:function(e,o){if(1&e&&(t.GBs(_,7),t.GBs(b,7)),2&e){let r;t.mGM(r=t.lsd())&&(o.modal=r.first),t.mGM(r=t.lsd())&&(o.modal2=r.first)}},decls:41,vars:8,consts:[["modal1",""],[3,"fullscreen"],[1,"content"],[1,"container"],[1,"title"],[3,"selected","click",4,"ngFor","ngForOf"],[3,"click","disabled"],["size","3"],["expand","block",1,"teste",3,"routerLink"],["expand","block",1,"teste",3,"click"],["color","danger","expand","block",1,"teste",3,"click"],["color","light","expand","block",1,"teste",3,"routerLink"],[3,"willDismiss"],[3,"click"],["slot","start"],["slot","end"],[3,"click","strong"],[1,"ion-padding"],[3,"formGroup"],["formControlName","nome","label","Nome","labelPlacement","floating","placeholder","Informe o novo nome para a \xe1rea"]],template:function(e,o){if(1&e){const r=t.RV6();t.j41(0,"ion-content",1),t.nrm(1,"app-nav"),t.j41(2,"div",2)(3,"div",3)(4,"ion-card")(5,"ion-card-header")(6,"h1",4),t.EFF(7," Listar Tipo de Servi\xe7o "),t.k0s()(),t.j41(8,"ion-card-content")(9,"ion-grid")(10,"ion-row")(11,"ion-col")(12,"table")(13,"thead")(14,"tr")(15,"th"),t.EFF(16,"Nome"),t.k0s()()(),t.j41(17,"tbody"),t.DNE(18,x,3,3,"tr",5),t.k0s()()()(),t.j41(19,"ion-row")(20,"ion-col")(21,"ion-button",6),t.bIt("click",function(){return t.eBV(r),t.Njj(o.previousPage())}),t.EFF(22,"Anterior"),t.k0s(),t.j41(23,"ion-button",6),t.bIt("click",function(){return t.eBV(r),t.Njj(o.nextPage())}),t.EFF(24,"Pr\xf3ximo"),t.k0s()()()()()(),t.j41(25,"ion-row")(26,"ion-col",7)(27,"ion-button",8),t.EFF(28,"Cadastrar"),t.k0s()(),t.j41(29,"ion-col",7)(30,"ion-button",9),t.bIt("click",function(){return t.eBV(r),t.Njj(o.validateAndOpenModal())}),t.EFF(31,"Alterar"),t.k0s()(),t.j41(32,"ion-col",7)(33,"ion-button",10),t.bIt("click",function(){return t.eBV(r),t.Njj(o.confirmarExclusao())}),t.EFF(34,"Excluir"),t.k0s()(),t.j41(35,"ion-col",7)(36,"ion-button",11),t.EFF(37,"Voltar"),t.k0s()()()()(),t.j41(38,"ion-modal",12,0),t.bIt("willDismiss",function(g){return t.eBV(r),t.Njj(o.onWillDismiss(g))}),t.DNE(40,j,13,2,"ng-template"),t.k0s()()}2&e&&(t.Y8G("fullscreen",!0),t.R7$(18),t.Y8G("ngForOf",o.paginatedListaTipo),t.R7$(3),t.Y8G("disabled",1===o.currentPage),t.R7$(2),t.Y8G("disabled",o.currentPage*o.itemsPerPage>=o.listaTipo.length),t.R7$(4),t.Y8G("routerLink",t.lJ4(6,S)),t.R7$(9),t.Y8G("routerLink",t.lJ4(7,k)))},dependencies:[c.qT,c.BC,c.cb,n.Jm,n.QW,n.b_,n.I9,n.ME,n.hU,n.W9,n.lO,n.$w,n.uz,n.ln,n.BC,n.ai,n.Sb,n.Gw,n.N7,v.Sq,P.P,c.j4,c.JD,u.Wk],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]{overflow-y:auto}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.teste[_ngcontent-%COMP%]{--padding-top: 18px;--background: var(--ion-color-pep);--padding-bottom: 18px}.container[_ngcontent-%COMP%]{padding:0 10px;display:flex;flex-direction:column;justify-content:center;width:80%;max-width:1000px}ion-item[_ngcontent-%COMP%]{--background: var(--ion-item-background);border-radius:5px;margin-bottom:10px;border:1px #BBB8B8 solid;padding:2px}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:500;margin:0}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}ion-img[_ngcontent-%COMP%]{max-width:150px}.header[_ngcontent-%COMP%]{--background: var(--ion-color-pep);color:#fff}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f8f8f8;font-weight:700}tr.selected[_ngcontent-%COMP%]{background-color:#d1e7dd}ion-card[_ngcontent-%COMP%]{box-shadow:#00000059 0 5px 15px}"]}),l})()}];let F=(()=>{var i;class l{}return(i=l).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[u.iI.forChild(C),u.iI]}),l})();var L=s(5553);let M=(()=>{var i;class l{}return(i=l).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[[c.YN,n.bv.forRoot({})],v.MD,L.h,c.YN,n.bv,c.X1,F]}),l})()}}]);