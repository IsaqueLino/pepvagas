"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1986],{1986:(q,g,r)=>{r.r(g),r.d(g,{CadastroEquipePageModule:()=>I});var u=r(177),c=r(4341),l=r(1075),h=r(8986),m=r(467),p=r(510),e=r(4438),v=r(3656),C=r(4796),f=r(8516),M=r(6857),b=r(5619),E=r(833);function P(t,s){1&t&&(e.j41(0,"ion-note",12),e.EFF(1," Por favor, insira um e-mail v\xe1lido (exemplo: usuario@dominio.com) "),e.k0s())}const k=[{path:"",component:(()=>{var t;class s{constructor(n,a,i,o,S,T){this.toastController=n,this.authService=a,this.navController=i,this.equipeService=o,this.candidatoService=S,this.adminService=T,this.isDarkTheme=!1,this.isLogged=!1,this.novaEquipe={nome:""},this.novaConta={email:"",senha:"",confirmarSenha:""},this.user={},this.userType="",this.emailInvalid=!1,null==this.authService.getJwt()&&this.navController.navigateRoot("login")}ngOnInit(){this.checkTheme(),this.getUser(),this.authService.getJwt()&&(this.isLogged=!0)}validateEmail(){this.emailInvalid=!!this.novaConta.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.novaConta.email)}onSubmit(){var n=this;return(0,m.A)(function*(){if(n.validateEmail(),n.emailInvalid)n.exibirMensagem("Por favor, insira um e-mail v\xe1lido (exemplo: usuario@dominio.com).");else if(0==n.novaEquipe.nome.length)n.exibirMensagem("Informe o nome do membro da equipe.");else if(0==n.novaConta.email.length)n.exibirMensagem("Informe o e-mail da conta.");else if(n.novaConta.senha.length<4)n.exibirMensagem("A senha deve ter no m\xedmino 4 caracteres.");else if(n.novaConta.senha!=n.novaConta.confirmarSenha)n.exibirMensagem("As senhas n\xe3o coincidem.");else try{const i=yield n.authService.createAccount(n.novaConta.email,n.novaConta.senha,p.R.MEMBRO_EQUIPE);if(201==i.status){const o=yield n.equipeService.cadastrarMembroEquipe(i.data.idConta,n.novaEquipe.nome);201==o.status?(n.exibirMensagem("Membro da Equipe "+n.novaEquipe.nome+" cadastrado com sucesso!"),n.novaEquipe.nome="",n.novaConta.email="",n.novaConta.senha="",n.novaConta.confirmarSenha=""):409==o.status&&(n.exibirMensagem("Erro interno no servidor"),console.error("Erro ao criar conta"))}else if(409==i.status){var a;const o=(null===(a=i.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)||"Erro ao criar a conta";n.exibirMensagem(o)}}catch{console.error("Erro ao cadastrar Membro da Equipe"),n.exibirMensagem("Erro interno no servidor")}})()}cancelar(){this.navController.navigateForward("home")}exibirMensagem(n){var a=this;return(0,m.A)(function*(){(yield a.toastController.create({message:n,duration:3e3,position:"top"})).present()})()}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,this.handleTheme()}handleTheme(){this.isDarkTheme?(document.body.setAttribute("color-scheme","dark"),localStorage.setItem("theme","dark")):(document.body.setAttribute("color-scheme","light"),localStorage.setItem("theme","light"))}checkTheme(){"dark"==localStorage.getItem("theme")?(document.body.setAttribute("color-scheme","dark"),this.isDarkTheme=!0):(document.body.setAttribute("color-scheme","light"),this.isDarkTheme=!1)}logout(){this.authService.logout(),this.navController.navigateForward("login")}getUser(){var n=this;return(0,m.A)(function*(){const a=n.authService.getUser(),i=n.authService.getType();if(null==a)n.isLogged=!1;else{switch(n.userType=null!=i?i:"",i){case"A":const o=yield n.adminService.getAdministrador(a);o?n.user=o:console.error("Erro ao buscar administrador.");break;case"C":n.user=yield n.candidatoService.getCandidato(a);break;case"E":case"R":case"L":break;case"M":n.user=yield n.equipeService.getMembroEquipe(a)}n.isLogged=!0}})()}}return(t=s).\u0275fac=function(n){return new(n||t)(e.rXU(l.K_),e.rXU(C.u),e.rXU(v.q9),e.rXU(f.S),e.rXU(M.X),e.rXU(b.r))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-cadastro-equipe"]],decls:33,vars:7,consts:[["id","main-content"],[1,"content"],[1,"container"],[1,"title"],["maxLength","60","label","Nome","labelPlacement","floating","placeholder","Informe o nome",3,"ngModelChange","ngModel"],["maxLength","50","label","E-mail","labelPlacement","floating","placeholder","Informe o email da conta","type","email",3,"ngModelChange","ionChange","ngModel"],["color","danger","slot","error",4,"ngIf"],["label","Senha","labelPlacement","floating","placeholder","Informe a senha da conta","type","password",3,"ngModelChange","ngModel"],["label","Confirmar senha","labelPlacement","floating","placeholder","Confirme a senha digitada acima","type","password",3,"ngModelChange","ngModel"],["size","6"],["expand","block",1,"pep",3,"click"],["color","danger","expand","block",1,"pep-cancelar",3,"click"],["color","danger","slot","error"]],template:function(n,a){1&n&&(e.j41(0,"ion-content",0),e.nrm(1,"app-nav"),e.j41(2,"div",1)(3,"div",2)(4,"ion-card")(5,"ion-card-header")(6,"h2",3),e.EFF(7,"Cadastro de Membro da Equipe"),e.k0s()(),e.j41(8,"ion-card-content")(9,"h1",3),e.EFF(10,"Informa\xe7\xf5es do Membro"),e.k0s(),e.nrm(11,"br"),e.j41(12,"ion-item")(13,"ion-input",4),e.mxI("ngModelChange",function(o){return e.DH7(a.novaEquipe.nome,o)||(a.novaEquipe.nome=o),o}),e.k0s()(),e.nrm(14,"br"),e.j41(15,"h1",3),e.EFF(16,"Informa\xe7\xf5es da Conta"),e.k0s(),e.nrm(17,"br"),e.j41(18,"ion-item")(19,"ion-input",5),e.mxI("ngModelChange",function(o){return e.DH7(a.novaConta.email,o)||(a.novaConta.email=o),o}),e.bIt("ionChange",function(){return a.validateEmail()}),e.k0s(),e.DNE(20,P,2,0,"ion-note",6),e.k0s(),e.j41(21,"ion-item")(22,"ion-input",7),e.mxI("ngModelChange",function(o){return e.DH7(a.novaConta.senha,o)||(a.novaConta.senha=o),o}),e.k0s()(),e.j41(23,"ion-item")(24,"ion-input",8),e.mxI("ngModelChange",function(o){return e.DH7(a.novaConta.confirmarSenha,o)||(a.novaConta.confirmarSenha=o),o}),e.k0s()(),e.nrm(25,"br"),e.j41(26,"ion-row")(27,"ion-col",9)(28,"ion-button",10),e.bIt("click",function(){return a.onSubmit()}),e.EFF(29," Cadastrar Membro "),e.k0s()(),e.j41(30,"ion-col",9)(31,"ion-button",11),e.bIt("click",function(){return a.cancelar()}),e.EFF(32," Cancelar "),e.k0s()()()()()()()()),2&n&&(e.R7$(13),e.R50("ngModel",a.novaEquipe.nome),e.R7$(5),e.AVh("invalid",a.emailInvalid),e.R7$(),e.R50("ngModel",a.novaConta.email),e.R7$(),e.Y8G("ngIf",a.emailInvalid),e.R7$(2),e.R50("ngModel",a.novaConta.senha),e.R7$(2),e.R50("ngModel",a.novaConta.confirmarSenha))},dependencies:[u.bT,c.BC,c.vS,l.Jm,l.b_,l.I9,l.ME,l.hU,l.W9,l.$w,l.uz,l.JI,l.ln,l.Gw,E.P],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]{max-height:calc(100vh - 50px);overflow-y:auto}ion-item[_ngcontent-%COMP%]{--background: var(--ion-item-background);border-radius:5px;margin-bottom:10px;border:1px #BBB8B8 solid;padding:2px}ion-card[_ngcontent-%COMP%]{box-shadow:#00000059 0 5px 15px}ion-card-header[_ngcontent-%COMP%]{padding-bottom:30px}ion-img[_ngcontent-%COMP%]{max-width:150px}.header[_ngcontent-%COMP%]{--background: var(--ion-color-pep);color:#fff}.container[_ngcontent-%COMP%]{padding:0 10px;display:flex;flex-direction:column;justify-content:center;width:80%;max-width:1000px}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.title[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{scale:90%}.botao-cancelar[_ngcontent-%COMP%]{border-radius:4px}.pep[_ngcontent-%COMP%]{--padding-top: 18px;--background: var(--ion-color-pep);--padding-bottom: 18px}.pep-cancelar[_ngcontent-%COMP%]{--padding-top: 18px;--padding-bottom: 18px}ion-item.invalid[_ngcontent-%COMP%]{--highlight-color-invalid: var(--ion-color-danger);--highlight-color-focused: var(--ion-color-danger)}ion-item.invalid[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--color: var(--ion-color-danger)}ion-note[slot=error][_ngcontent-%COMP%]{display:block;font-size:small;margin-top:5px;color:var(--ion-color-danger)}"]}),s})()}];let y=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[h.iI.forChild(k),h.iI]}),s})();var x=r(5553);let I=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[u.MD,c.YN,l.bv,y,x.h]}),s})()}}]);