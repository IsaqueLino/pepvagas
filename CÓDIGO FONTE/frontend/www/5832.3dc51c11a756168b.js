"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5832],{5832:(T,g,n)=>{n.r(g),n.d(g,{CadastroAdministradorPageModule:()=>k});var h=n(177),a=n(4341),r=n(1075),f=n(1208),m=n(8986),u=n(467),t=n(4438),p=n(4796),v=n(3656),C=n(5619),P=n(833);const b=()=>["/tela-administrador"],A=[{path:"",component:(()=>{var e;class s{constructor(o,i,c,l,x){this.formBuilder=o,this.authService=i,this.navController=c,this.toastController=l,this.adminService=x,this.isDarkTheme=!1,this.isLogged=!1,null==this.authService.getJwt()&&this.navController.navigateRoot("login"),this.obrigatorio=this.formBuilder.group({nome:[null,a.k0.required],email:[null,a.k0.required],senha:[null,a.k0.required]})}ngOnInit(){this.handleTheme(),this.authService.getJwt()?this.isLogged=!0:this.navController.navigateRoot("/")}logout(){this.authService.logout(),this.navController.navigateForward("login")}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,this.handleTheme()}handleTheme(){this.isDarkTheme?(document.body.setAttribute("color-scheme","dark"),localStorage.setItem("theme","dark")):(document.body.setAttribute("color-scheme","light"),localStorage.setItem("theme","light"))}presentToast(o){var i=this;return(0,u.A)(function*(){(yield i.toastController.create({message:o,duration:2e3,position:"bottom"})).present()})()}onSubmit(){var o=this;return(0,u.A)(function*(){if(o.obrigatorio.value.senha.length<4)return void o.presentToast("A senha deve ter pelo menos 4 digitos.");if(o.obrigatorio.invalid)return void Object.keys(o.obrigatorio.controls).forEach(c=>{const l=o.obrigatorio.get(c);null!=l&&l.invalid&&l.errors&&l.errors.required&&o.presentToast(`O campo ${c} \xe9 obrigat\xf3rio. Por favor, preencha-o.`)});let i=yield o.authService.createAccount(o.obrigatorio.value.email,o.obrigatorio.value.senha,"A");console.log(i.message),i.data&&(i=yield o.adminService.criar(i.data.idConta,o.obrigatorio.value.nome),o.presentToast("Conta criada com sucesso"))})()}}return(e=s).\u0275fac=function(o){return new(o||e)(t.rXU(a.ok),t.rXU(p.u),t.rXU(v.q9),t.rXU(r.K_),t.rXU(C.r))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-cadastro-administrador"]],decls:23,vars:4,consts:[[3,"fullscreen"],[1,"content"],[1,"container"],[1,"title"],[3,"formGroup"],["formControlName","nome","label","Nome","labelPlacement","floating","placeholder","Informe o nome","type","text"],["formControlName","email","label","Email","labelPlacement","floating","placeholder","Informe o email","type","email"],["formControlName","senha","label","Senha","labelPlacement","floating","placeholder","Informe a senha","type","password"],["size","6"],["expand","block",1,"teste",3,"click"],["color","light","expand","block",1,"teste",3,"routerLink"]],template:function(o,i){1&o&&(t.j41(0,"ion-content",0),t.nrm(1,"app-nav"),t.j41(2,"div",1)(3,"div",2)(4,"ion-card")(5,"ion-card-header")(6,"h1",3),t.EFF(7," Cadastro de Administrador"),t.k0s()(),t.j41(8,"ion-card-content")(9,"form",4)(10,"ion-item"),t.nrm(11,"ion-input",5),t.k0s(),t.j41(12,"ion-item"),t.nrm(13,"ion-input",6),t.k0s(),t.j41(14,"ion-item"),t.nrm(15,"ion-input",7),t.k0s()()()(),t.j41(16,"ion-row")(17,"ion-col",8)(18,"ion-button",9),t.bIt("click",function(){return i.onSubmit()}),t.EFF(19," Cadastrar "),t.k0s()(),t.j41(20,"ion-col",8)(21,"ion-button",10),t.EFF(22," Cancelar "),t.k0s()()()()()()),2&o&&(t.Y8G("fullscreen",!0),t.R7$(9),t.Y8G("formGroup",i.obrigatorio),t.R7$(12),t.Y8G("routerLink",t.lJ4(3,b)))},dependencies:[a.qT,a.BC,a.cb,r.Jm,r.b_,r.I9,r.ME,r.hU,r.W9,r.$w,r.uz,r.ln,r.Gw,r.N7,P.P,a.j4,a.JD,m.Wk],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]{overflow-y:auto}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.teste[_ngcontent-%COMP%]{--padding-top: 18px;--background: var(--ion-color-pep);--padding-bottom: 18px}.container[_ngcontent-%COMP%]{padding:0 10px;display:flex;flex-direction:column;justify-content:center;width:80%;max-width:1000px}ion-item[_ngcontent-%COMP%]{--background: var(--ion-item-background);border-radius:5px;margin-bottom:10px;border:1px #BBB8B8 solid;padding:2px}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:500;margin:0}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}ion-img[_ngcontent-%COMP%]{max-width:150px}.header[_ngcontent-%COMP%]{--background: var(--ion-color-pep);color:#fff}"]}),s})()}];let y=(()=>{var e;class s{}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[m.iI.forChild(A),m.iI]}),s})();var M=n(5553);let k=(()=>{var e;class s{}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[[a.YN,f.rt,r.bv.forRoot({})],h.MD,M.h,a.YN,r.bv,a.X1,y]}),s})()}}]);