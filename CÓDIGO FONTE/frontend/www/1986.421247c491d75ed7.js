"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1986],{1986:(x,u,i)=>{i.r(u),i.d(u,{CadastroEquipePageModule:()=>S});var h=i(177),d=i(4341),s=i(1075),g=i(8986),m=i(467),p=i(510),e=i(4438),C=i(3656),v=i(4796),f=i(8516),M=i(6857),b=i(5619),E=i(833);const P=[{path:"",component:(()=>{var o;class l{constructor(n,a,r,t,q,T){this.toastController=n,this.authService=a,this.navController=r,this.equipeService=t,this.candidatoService=q,this.adminService=T,this.isDarkTheme=!1,this.isLogged=!1,this.novaEquipe={nome:""},this.novaConta={email:"",senha:"",confirmarSenha:""},this.user={},this.userType="",null==this.authService.getJwt()&&this.navController.navigateRoot("login")}ngOnInit(){this.checkTheme(),this.getUser(),this.authService.getJwt()&&(this.isLogged=!0)}onSubmit(){var n=this;return(0,m.A)(function*(){if(0==n.novaEquipe.nome.length)n.exibirMensagem("Informe o nome do membro da equipe");else if(0==n.novaConta.email.length)n.exibirMensagem("Informe o e-mail da conta");else if(n.novaConta.senha.length<4)n.exibirMensagem("A senha deve ter no m\xedmino 4 caracteres");else if(n.novaConta.senha!=n.novaConta.confirmarSenha)n.exibirMensagem("As senhas n\xe3o colidem");else try{const a=yield n.authService.createAccount(n.novaConta.email,n.novaConta.senha,p.R.MEMBRO_EQUIPE);if(201==a.status){const r=yield n.equipeService.cadastrarMembroEquipe(a.data.idConta,n.novaEquipe.nome);201==r.status?(n.exibirMensagem("Membro da Equipe "+n.novaEquipe.nome+" cadastrado com sucesso!"),n.novaEquipe.nome="",n.novaConta.email="",n.novaConta.senha="",n.novaConta.confirmarSenha=""):409==r.status&&(n.exibirMensagem("Erro interno no servidor"),console.error("Erro ao criar conta"))}else 409==a.status&&(console.error(a.response.data.message),n.exibirMensagem("Erro ao criar a conta"))}catch{console.error("Erro ao cadastrar Membro da Equipe"),n.exibirMensagem("Erro interno no servidor")}})()}cancelar(){this.navController.navigateForward("home")}exibirMensagem(n){var a=this;return(0,m.A)(function*(){(yield a.toastController.create({message:n,duration:3e3,position:"top"})).present()})()}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,this.handleTheme()}handleTheme(){this.isDarkTheme?(document.body.setAttribute("color-scheme","dark"),localStorage.setItem("theme","dark")):(document.body.setAttribute("color-scheme","light"),localStorage.setItem("theme","light"))}checkTheme(){"dark"==localStorage.getItem("theme")?(document.body.setAttribute("color-scheme","dark"),this.isDarkTheme=!0):(document.body.setAttribute("color-scheme","light"),this.isDarkTheme=!1)}logout(){this.authService.logout(),this.navController.navigateForward("login")}getUser(){var n=this;return(0,m.A)(function*(){const a=n.authService.getUser(),r=n.authService.getType();if(null==a)n.isLogged=!1;else{switch(n.userType=null!=r?r:"",r){case"A":n.user=yield n.adminService.getAdministrador(a),console.log(n.user);break;case"C":n.user=yield n.candidatoService.getCandidato(a);break;case"E":case"R":case"L":break;case"M":n.user=yield n.equipeService.getMembroEquipe(a)}n.isLogged=!0}})()}}return(o=l).\u0275fac=function(n){return new(n||o)(e.rXU(s.K_),e.rXU(v.u),e.rXU(C.q9),e.rXU(f.S),e.rXU(M.X),e.rXU(b.r))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-cadastro-equipe"]],decls:32,vars:4,consts:[["id","main-content"],[1,"content"],[1,"container"],[1,"title"],["maxLength","60","label","Nome","labelPlacement","floating","placeholder","Informe o nome",3,"ngModelChange","ngModel"],["maxLength","50","label","E-mail","labelPlacement","floating","placeholder","Informe o email da conta","type","email",3,"ngModelChange","ngModel"],["label","Senha","labelPlacement","floating","placeholder","Informe a senha da conta","type","password",3,"ngModelChange","ngModel"],["label","Confirmar senha","labelPlacement","floating","placeholder","Confirme a senha digitada acima","type","password",3,"ngModelChange","ngModel"],["size","6"],["expand","block",1,"botao-cadastrar",3,"click"],["color","danger","fill","outline","expand","block",1,"botao-cancelar",3,"click"]],template:function(n,a){1&n&&(e.j41(0,"ion-content",0),e.nrm(1,"app-nav"),e.j41(2,"div",1)(3,"div",2)(4,"ion-card")(5,"ion-card-header")(6,"h2",3),e.EFF(7,"Cadastro de Membro da Equipe"),e.k0s()(),e.j41(8,"ion-card-content")(9,"h1",3),e.EFF(10,"Informa\xe7\xf5es do Membro"),e.k0s(),e.nrm(11,"br"),e.j41(12,"ion-item")(13,"ion-input",4),e.mxI("ngModelChange",function(t){return e.DH7(a.novaEquipe.nome,t)||(a.novaEquipe.nome=t),t}),e.k0s()(),e.nrm(14,"br"),e.j41(15,"h1",3),e.EFF(16,"Informa\xe7\xf5es da Conta"),e.k0s(),e.nrm(17,"br"),e.j41(18,"ion-item")(19,"ion-input",5),e.mxI("ngModelChange",function(t){return e.DH7(a.novaConta.email,t)||(a.novaConta.email=t),t}),e.k0s()(),e.j41(20,"ion-item")(21,"ion-input",6),e.mxI("ngModelChange",function(t){return e.DH7(a.novaConta.senha,t)||(a.novaConta.senha=t),t}),e.k0s()(),e.j41(22,"ion-item")(23,"ion-input",7),e.mxI("ngModelChange",function(t){return e.DH7(a.novaConta.confirmarSenha,t)||(a.novaConta.confirmarSenha=t),t}),e.k0s()(),e.nrm(24,"br"),e.j41(25,"ion-row")(26,"ion-col",8)(27,"ion-button",9),e.bIt("click",function(){return a.onSubmit()}),e.EFF(28," Cadastrar Membro "),e.k0s()(),e.j41(29,"ion-col",8)(30,"ion-button",10),e.bIt("click",function(){return a.cancelar()}),e.EFF(31," Cancelar "),e.k0s()()()()()()()()),2&n&&(e.R7$(13),e.R50("ngModel",a.novaEquipe.nome),e.R7$(6),e.R50("ngModel",a.novaConta.email),e.R7$(2),e.R50("ngModel",a.novaConta.senha),e.R7$(2),e.R50("ngModel",a.novaConta.confirmarSenha))},dependencies:[d.BC,d.vS,s.Jm,s.b_,s.I9,s.ME,s.hU,s.W9,s.$w,s.uz,s.ln,s.Gw,E.P],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]{max-height:calc(100vh - 50px);overflow-y:auto}ion-item[_ngcontent-%COMP%]{--background: var(--ion-item-background);border-radius:5px;margin-bottom:10px;border:1px #BBB8B8 solid;padding:2px}ion-card[_ngcontent-%COMP%]{box-shadow:#00000059 0 5px 15px}ion-card-header[_ngcontent-%COMP%]{padding-bottom:30px}ion-img[_ngcontent-%COMP%]{max-width:150px}.header[_ngcontent-%COMP%]{--background: var(--ion-color-pep);color:#fff}.container[_ngcontent-%COMP%]{padding:0 10px;display:flex;flex-direction:column;justify-content:center;width:80%;max-width:1000px}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.title[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{scale:90%}.botao-cancelar[_ngcontent-%COMP%]{border-radius:4px}"]}),l})()}];let y=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[g.iI.forChild(P),g.iI]}),l})();var k=i(5553);let S=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[h.MD,d.YN,s.bv,y,k.h]}),l})()}}]);