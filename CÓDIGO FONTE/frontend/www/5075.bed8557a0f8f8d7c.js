"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{5075:(w,b,n)=>{n.r(b),n.d(b,{HomePageModule:()=>X});var h=n(177),g=n(1075),v=n(4341),f=n(8986),m=n(467),a=n(4438),C=n(6857),P=n(4796),y=n(9839),k=n(5619),T=n(3656),M=n(858),x=n(2078),V=n(8516),S=n(3045),O=n(7229),E=n(833);const I=()=>["/tela-profissionais-liberais"],R=()=>["/vaga-detalhes"],H=o=>({"vaga-desabilitada":o});function F(o,s){1&o&&(a.j41(0,"ion-content",11),a.EFF(1," As vagas s\xe3o listadas em ordem de prefer\xeancia, as que mais atendem aos interesses do candidato aparecem primeiro. "),a.k0s())}function j(o,s){1&o&&(a.j41(0,"div",17),a.EFF(1," J\xe1 candidatado "),a.k0s())}function L(o,s){if(1&o){const i=a.RV6();a.j41(0,"div",14),a.bIt("click",function(){const t=a.eBV(i).$implicit,r=a.XpG(2);return a.Njj(r.verVagaDetalhes(t))}),a.nrm(1,"app-vaga",15),a.DNE(2,j,2,0,"div",16),a.k0s()}if(2&o){const i=s.$implicit;a.Y8G("routerLink",a.lJ4(13,R))("ngClass",a.eq3(14,H,i.jaCandidatado)),a.R7$(),a.Y8G("titulo",i.titulo)("cidade",i.cidade)("regime",i.regime)("salario",i.salario)("pcd",i.pcd)("tipo",i.tipo)("data",i.dataLimite)("logo",i.logo)("empresa",i.idEmpresa.nomeEmpresa)("ocultarNome",i.ocultarNome),a.R7$(),a.Y8G("ngIf",i.jaCandidatado)}}function A(o,s){if(1&o&&(a.j41(0,"div",12),a.DNE(1,L,3,16,"div",13),a.k0s()),2&o){const i=a.XpG();a.R7$(),a.Y8G("ngForOf",i.listaVagas)}}function D(o,s){1&o&&(a.j41(0,"div")(1,"p",18),a.EFF(2,"N\xe3o h\xe1 nenhuma vaga publicada no momento."),a.k0s()())}const G=[{path:"",component:(()=>{var o;class s{constructor(e,t,r,d,c,l,p,u,Y){this.candidatoService=e,this.authService=t,this.vagaService=r,this.adminService=d,this.navController=c,this.empresaService=l,this.representanteService=p,this.equipeService=u,this.profissionalLiberalService=Y,this.vagas=[],this.listaVagas=[...this.vagas],this.vagasRelacionadas=[],this.isDarkTheme=!1,this.user={},this.userType="",this.isLogged=!1,this.searchValue="",this.isToastOpen=!1,this.toastButtons=[{text:"Perfil",role:"info",handler:()=>{this.navController.navigateRoot("candidato-perfil")}},{text:"X",role:"cancel"}],setTimeout(()=>{this.getVagas()},500),this.getUser(),sessionStorage.clear()}ngOnInit(){var e=this;return(0,m.A)(function*(){e.checkTheme(),e.authService.getJwt()?(e.isLogged=!0,yield e.getUser(),e.userType?"E"!==e.userType?("C"===e.userType&&e.checkInteressesCandidato(),"L"!==e.userType?(yield e.getVagas(),sessionStorage.clear()):e.navController.navigateRoot("/tela-profissionais-liberais")):e.navController.navigateRoot("/minhas-vagas"):console.error("Tipo de usu\xe1rio n\xe3o identificado.")):e.isLogged=!1})()}ionViewWillEnter(){var e=this;return(0,m.A)(function*(){e.ngOnInit()})()}checkInteressesCandidato(){var e=this;return(0,m.A)(function*(){e.isToastOpen=!(e.user.disponibilidade&&e.user.cidade&&e.user.tipoVaga&&0!=e.user.areas.length&&e.user.nivelInstrucao&&e.user.cnh&&e.user.pretensaoSalarial)})()}getUser(){var e=this;return(0,m.A)(function*(){const t=e.authService.getUser(),r=e.authService.getType();if(null!=t){switch(e.userType=null!=r?r:"",r){case"A":e.user=yield e.adminService.getAdministrador(t);break;case"C":e.user=yield e.candidatoService.getCandidato(t);break;case"E":e.user=yield e.empresaService.getEmpresa(t);break;case"M":e.user=yield e.equipeService.getMembroEquipe(t);break;case"R":e.user=yield e.representanteService.getRepresentante(t);break;case"L":e.user=yield e.profissionalLiberalService.buscarProfissional(t);break;default:return void console.error(" Tipo de usu\xe1rio n\xe3o reconhecido:",r)}e.isLogged=!0}else e.isLogged=!1})()}getVagas(){var e=this;return(0,m.A)(function*(){var t;const r=null===(t=e.user)||void 0===t?void 0:t.idconta;if("R"===e.userType){var d;const c=null===(d=e.user)||void 0===d?void 0:d.idconta;if(!c||isNaN(Number(c)))return void console.error(" ID do representante inv\xe1lido (NaN):",c);try{const l=yield e.vagaService.getVagasDoRepresentante(c);e.vagas=l.data}catch(l){console.error(" Erro ao buscar vagas do representante:",l)}}else try{const c=yield e.vagaService.getVagas();if(e.vagas=c.data,"C"===e.userType&&r)try{const p=(yield e.candidatoService.getCandidaturas(r)).map(u=>u.idVaga);e.vagas.forEach(u=>{u.jaCandidatado=p.includes(u.idVaga)})}catch(l){console.error("Erro ao buscar candidaturas do candidato:",l)}}catch(c){console.error("Erro ao buscar vagas gerais:",c)}e.listaVagas=[...e.vagas],e.matchVagas(),e.sortVagas()})()}matchVagas(){this.listaVagas.filter(e=>{let t=0;null!=this.user.pcd&&e.pcd==this.user.pcd&&t++,null!=this.user.pretensaoSalarial&&e.salario>=this.user.pretensaoSalarial&&t++,null!=this.user.tipoVaga&&e.regime.toLowerCase()==this.user.tipoVaga.toLowerCase()&&(t+=2),this.user.areas&&this.user.areas.forEach(r=>{r.idArea==e.idArea.idArea&&(t+=2)}),e.matchPoint=t})}sortVagas(){this.listaVagas.sort((e,t)=>e.matchPoint<=t.matchPoint?1:-1)}search(){const e=this.searchValue.toLowerCase();this.listaVagas=this.vagas.filter(t=>t.titulo.toLowerCase().includes(e))}toggleTheme(){this.isDarkTheme=!this.isDarkTheme,this.handleTheme()}checkTheme(){"dark"==localStorage.getItem("theme")?(document.body.setAttribute("color-scheme","dark"),this.isDarkTheme=!0):(document.body.setAttribute("color-scheme","light"),this.isDarkTheme=!1)}handleTheme(){this.isDarkTheme?(document.body.setAttribute("color-scheme","dark"),localStorage.setItem("theme","dark")):(document.body.setAttribute("color-scheme","light"),localStorage.setItem("theme","light"))}logout(){this.authService.logout(),this.navController.navigateRoot("login")}verVagaDetalhes(e){localStorage.setItem("idVaga",e.idVaga)}}return(o=s).\u0275fac=function(e){return new(e||o)(a.rXU(C.X),a.rXU(P.u),a.rXU(y.T),a.rXU(k.r),a.rXU(T.q9),a.rXU(M.z),a.rXU(x.m),a.rXU(V.S),a.rXU(S.M))},o.\u0275cmp=a.VBU({type:o,selectors:[["app-home"]],decls:16,vars:9,consts:[[3,"fullscreen"],["icon","person","message","Registre suas informa\xe7\xf5es complementares para receber vagas que combinam com voc\xea!",1,"aviso",3,"buttons","isOpen"],[1,"web-padding"],["placeholder","T\xedtulo da vaga","show-clear-button","focus",1,"custom",3,"ionInput","ngModelChange","debounce","ngModel"],[3,"routerLink"],[1,"header-with-button"],[1,"subtitle"],["id","home"],["trigger","home","triggerAction","click"],["class","vagas-grid",4,"ngIf"],[4,"ngIf"],[1,"ion-padding"],[1,"vagas-grid"],["class","vaga-wrapper",3,"routerLink","ngClass","click",4,"ngFor","ngForOf"],[1,"vaga-wrapper",3,"click","routerLink","ngClass"],[3,"titulo","cidade","regime","salario","pcd","tipo","data","logo","empresa","ocultarNome"],["class","badge-candidatado",4,"ngIf"],[1,"badge-candidatado"],[1,"subtitle","center"]],template:function(e,t){1&e&&(a.j41(0,"ion-content",0),a.nrm(1,"app-nav")(2,"ion-toast",1),a.j41(3,"div",2)(4,"ion-searchbar",3),a.bIt("ionInput",function(){return t.search()}),a.mxI("ngModelChange",function(d){return a.DH7(t.searchValue,d)||(t.searchValue=d),d}),a.k0s(),a.j41(5,"ion-button",4),a.EFF(6," Pesquisar Profissionais Liberais/Aut\xf4nomos"),a.k0s(),a.j41(7,"div",5)(8,"h4",6),a.EFF(9,"Vagas publicadas"),a.k0s(),a.j41(10,"ion-button",7),a.EFF(11,"?"),a.k0s()(),a.j41(12,"ion-popover",8),a.DNE(13,F,2,0,"ng-template"),a.k0s(),a.DNE(14,A,2,1,"div",9)(15,D,3,0,"div",10),a.k0s()()),2&e&&(a.Y8G("fullscreen",!0),a.R7$(2),a.Y8G("buttons",t.toastButtons)("isOpen",t.isToastOpen),a.R7$(2),a.Y8G("debounce",500),a.R50("ngModel",t.searchValue),a.R7$(),a.Y8G("routerLink",a.lJ4(8,I)),a.R7$(9),a.Y8G("ngIf",t.listaVagas.length>0),a.R7$(),a.Y8G("ngIf",0===t.listaVagas.length))},dependencies:[h.YU,h.Sq,h.bT,v.BC,v.vS,g.Jm,g.W9,g.S1,g.op,g.CF,g.Gw,g.N7,f.Wk,O.Z,E.P],styles:[".web-padding[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 15%;display:flex;justify-content:start;align-items:center;flex-direction:column}.header[_ngcontent-%COMP%]{--background: var(--ion-color-pep);color:#fff}ion-searchbar.custom[_ngcontent-%COMP%]{--background: var(--ion-card-background);--border-radius: 10px;--padding-inline-start: 0px;margin-top:40px}ion-img[_ngcontent-%COMP%]{max-width:150px}ion-list[_ngcontent-%COMP%]{background-color:var(--ion-background-color)}ion-item[_ngcontent-%COMP%]{--background: var(--ion-background-color)}ion-label[_ngcontent-%COMP%]:hover{background-color:var(--ion-card-background)}.menu-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.popover[_ngcontent-%COMP%]{--background: var(--ion-card-background)}ion-button[_ngcontent-%COMP%]{--background: var(--ion-color-pep);--box-shadow: none}ion-header[_ngcontent-%COMP%]{box-shadow:none}.aviso[_ngcontent-%COMP%]{--background: var(--ion-color-pep);--color: var(--ion-text-color)}.aviso[_ngcontent-%COMP%]::part(button){color:var(--ion-text-color)}@media screen and (max-width: 600px){.web-padding[_ngcontent-%COMP%]{padding:0}.subtitle[_ngcontent-%COMP%]{font-size:18px;margin:0}}.header-with-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:20px}.vagas-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px;width:100%;margin-top:20px;align-items:start}.vaga-wrapper[_ngcontent-%COMP%]{height:100%;position:relative;display:flex;flex-direction:column}app-vaga[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.badge-candidatado[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;background-color:var(--ion-color-medium);color:#fff;font-size:12px;padding:4px 8px;border-radius:6px;z-index:10}.vaga-wrapper.vaga-desabilitada[_ngcontent-%COMP%]{opacity:.5;filter:grayscale(100%)}app-vaga[_ngcontent-%COMP%]{height:100%;display:flex}"]}),s})()}];let N=(()=>{var o;class s{}return(o=s).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.$C({type:o}),o.\u0275inj=a.G2t({imports:[f.iI.forChild(G),f.iI]}),s})();var U=n(5553);let X=(()=>{var o;class s{}return(o=s).\u0275fac=function(e){return new(e||o)},o.\u0275mod=a.$C({type:o}),o.\u0275inj=a.G2t({imports:[h.MD,v.YN,g.bv,N,U.h]}),s})()}}]);